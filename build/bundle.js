var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function c(t,e,n,r){if(t){const i=u(t,e,n,r);return t[0](i)}}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function l(t,e,n,r,i,o,a){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,o);if(s){const i=u(e,n,r,a);t.p(i,s)}}function f(t){return null==t?"":t}function h(t,e,n=e){return t.set(n),e}const d="undefined"!=typeof window;let p=d?()=>window.performance.now():()=>Date.now(),g=d?t=>requestAnimationFrame(t):t;const y=new Set;function m(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&g(m)}function v(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function M(){return k(" ")}function N(){return k("")}function A(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e,n){e in t?t[e]=n:C(t,e,n)}function j(t){return""===t?null:+t}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}function O(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function P(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function q(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function z(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const R=new Set;let I,B=0;function L(t,e,n,r,i,o,a,s=0){const c=16.666/r;let u="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*o(t);u+=100*t+`%{${a(r,1-r)}}\n`}const l=u+`100% {${a(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${s}`,h=t.ownerDocument;R.add(h);const d=h.__svelte_stylesheet||(h.__svelte_stylesheet=h.head.appendChild(w("style")).sheet),p=h.__svelte_rules||(h.__svelte_rules={});p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${l}`,d.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${i}ms 1 both`,B+=1,f}function H(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),B-=i,B||g((()=>{B||(R.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),R.clear())})))}function D(t){I=t}function X(){if(!I)throw new Error("Function called outside component initialization");return I}function V(t){X().$$.on_mount.push(t)}function Y(){const t=X();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=z(e,n);r.slice().forEach((e=>{e.call(t,i)}))}}}const F=[],W=[],U=[],G=[],Z=Promise.resolve();let J=!1;function Q(t){U.push(t)}function K(t){G.push(t)}let tt=!1;const et=new Set;function nt(){if(!tt){tt=!0;do{for(let t=0;t<F.length;t+=1){const e=F[t];D(e),rt(e.$$)}for(D(null),F.length=0;W.length;)W.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];et.has(e)||(et.add(e),e())}U.length=0}while(F.length);for(;G.length;)G.pop()();J=!1,tt=!1,et.clear()}}function rt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}let it;function ot(t,e,n){t.dispatchEvent(z(`${e?"intro":"outro"}${n}`))}const at=new Set;let st;function ct(){st={r:0,c:[],p:st}}function ut(){st.r||i(st.c),st=st.p}function lt(t,e){t&&t.i&&(at.delete(t),t.i(e))}function ft(t,e,n,r){if(t&&t.o){if(at.has(t))return;at.add(t),st.c.push((()=>{at.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const ht={duration:0};function dt(n,r,a,s){let c=r(n,a),u=s?0:1,l=null,f=null,h=null;function d(){h&&H(n,h)}function v(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(r){const{delay:o=0,duration:a=300,easing:s=e,tick:b=t,css:_}=c||ht,x={start:p()+o,b:r};r||(x.group=st,st.r+=1),l||f?f=x:(_&&(d(),h=L(n,u,r,a,o,s,_)),r&&b(0,1),l=v(x,a),Q((()=>ot(n,r,"start"))),function(t){let e;0===y.size&&g(m),new Promise((n=>{y.add(e={c:t,f:n})}))}((t=>{if(f&&t>f.start&&(l=v(f,a),f=null,ot(n,l.b,"start"),_&&(d(),h=L(n,u,l.b,l.duration,0,s,c.css))),l)if(t>=l.end)b(u=l.b,1-u),ot(n,l.b,"end"),f||(l.b?d():--l.group.r||i(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;u=l.a+l.d*s(e/l.duration),b(u,1-u)}return!(!l&&!f)})))}return{run(t){o(c)?(it||(it=Promise.resolve(),it.then((()=>{it=null}))),it).then((()=>{c=c(),b(t)})):b(t)},end(){d(),l=f=null}}}function pt(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let a=e.ctx;void 0!==i&&(a=a.slice(),a[i]=o);const s=t&&(e.current=t)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(ct(),ft(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),ut())})):e.block.d(1),s.c(),lt(s,1),s.m(e.mount(),e.anchor),c=!0),e.block=s,e.blocks&&(e.blocks[r]=s),c&&nt()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=X();if(t.then((t=>{D(n),r(e.then,1,e.value,t),D(null)}),(t=>{if(D(n),r(e.catch,2,e.error,t),D(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}const gt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function yt(t,e){ft(t,1,1,(()=>{e.delete(t.key)}))}function mt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function vt(t){t&&t.c()}function bt(t,e,r,a){const{fragment:s,on_mount:c,on_destroy:u,after_update:l}=t.$$;s&&s.m(e,r),a||Q((()=>{const e=c.map(n).filter(o);u?u.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(Q)}function _t(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xt(t,e){-1===t.$$.dirty[0]&&(F.push(t),J||(J=!0,Z.then(nt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(e,n,o,a,s,c,u=[-1]){const l=I;D(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:n.context||[]),callbacks:r(),dirty:u,skip_bound:!1};let h=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),h&&xt(e,t)),n})):[],f.update(),h=!0,i(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(_)}else f.fragment&&f.fragment.c();n.intro&&lt(e.$$.fragment),bt(e,n.target,n.anchor,n.customElement),nt()}D(l)}class $t{$destroy(){_t(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{window:kt}=gt,Mt=t=>({}),Nt=t=>({}),At=t=>({}),Ct=t=>({});function St(t){let e,n,r,i,o,a,s,u;Q(t[20]);const f=t[19].background,h=c(f,t,t[18],Ct),d=t[19].foreground,p=c(d,t,t[18],Nt);return{c(){e=w("svelte-scroller-outer"),n=w("svelte-scroller-background-container"),r=w("svelte-scroller-background"),h&&h.c(),i=M(),o=w("svelte-scroller-foreground"),p&&p.c(),S(r,"class","svelte-1p19dno"),S(n,"class","background-container svelte-1p19dno"),S(n,"style",t[4]),S(o,"class","svelte-1p19dno"),S(e,"class","svelte-1p19dno")},m(c,l){b(c,e,l),v(e,n),v(n,r),h&&h.m(r,null),t[21](r),v(e,i),v(e,o),p&&p.m(o,null),t[22](o),t[23](e),a=!0,s||(u=A(kt,"resize",t[20]),s=!0)},p(t,e){h&&h.p&&262144&e[0]&&l(h,f,t,t[18],e,At,Ct),(!a||16&e[0])&&S(n,"style",t[4]),p&&p.p&&262144&e[0]&&l(p,d,t,t[18],e,Mt,Nt)},i(t){a||(lt(h,t),lt(p,t),a=!0)},o(t){ft(h,t),ft(p,t),a=!1},d(n){n&&_(e),h&&h.d(n),t[21](null),p&&p.d(n),t[22](null),t[23](null),s=!1,u()}}}const jt=[];let Et;if("undefined"!=typeof window){const t=()=>jt.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,e=new IntersectionObserver(((e,n)=>{e.forEach((e=>{const n=t.get(e.target),r=jt.indexOf(n);e.isIntersecting?-1===r&&jt.push(n):(n(),-1!==r&&jt.splice(r,1))}))}),{rootMargin:"400px 0px"});Et={add:({outer:n,update:r})=>{const{top:i,bottom:o}=n.getBoundingClientRect();i<window.innerHeight&&o>0&&jt.push(r),t.set(n,r),e.observe(n)},remove:({outer:n,update:r})=>{const i=jt.indexOf(r);-1!==i&&jt.splice(i,1),t.delete(n),e.unobserve(n)}}}else Et={add:({update:t})=>{jt.push(t)},remove:({update:t})=>{const e=jt.indexOf(t);-1!==e&&jt.splice(e,1)}};function Tt(t,e,n){let r,i,o,a,s,c,u,l,f,h,d,{$$slots:p={},$$scope:g}=e,{top:y=0}=e,{bottom:m=1}=e,{threshold:v=.5}=e,{query:b="section"}=e,{parallax:_=!1}=e,{index:x=0}=e,{count:w=0}=e,{offset:$=0}=e,{progress:k=0}=e,{visible:M=!1}=e,N=0,A=1;function C(){if(!c)return;const t=s.getBoundingClientRect();l=t.left,n(17,A=t.right-l);const e=c.getBoundingClientRect(),a=u.getBoundingClientRect();n(9,M=e.top<N&&e.bottom>0);const p=e.bottom-e.top,g=a.bottom-a.top,y=i-r;for(n(8,k=(r-e.top)/(p-y)),k<=0?(n(16,d=0),n(15,h=!1)):k>=1?(n(16,d=_?p-g:p-y),n(15,h=!1)):(n(16,d=_?Math.round(r-k*(g-y)):r),n(15,h=!0)),n(5,x=0);x<f.length;n(5,x+=1)){const t=f[x],{top:r}=t.getBoundingClientRect(),i=f[x+1],a=i?i.getBoundingClientRect().top:e.bottom;if(n(7,$=(o-r)/(a-r)),a>=o)break}}return V((()=>{f=c.querySelectorAll(b),n(6,w=f.length),C();const t={outer:s,update:C};return Et.add(t),()=>Et.remove(t)})),t.$$set=t=>{"top"in t&&n(10,y=t.top),"bottom"in t&&n(11,m=t.bottom),"threshold"in t&&n(12,v=t.threshold),"query"in t&&n(13,b=t.query),"parallax"in t&&n(14,_=t.parallax),"index"in t&&n(5,x=t.index),"count"in t&&n(6,w=t.count),"offset"in t&&n(7,$=t.offset),"progress"in t&&n(8,k=t.progress),"visible"in t&&n(9,M=t.visible),"$$scope"in t&&n(18,g=t.$$scope)},t.$$.update=()=>{1025&t.$$.dirty[0]&&(r=Math.round(y*N)),2049&t.$$.dirty[0]&&(i=Math.round(m*N)),4097&t.$$.dirty[0]&&(o=Math.round(v*N)),23552&t.$$.dirty[0]&&C(),229376&t.$$.dirty[0]&&n(4,a=`\n\t\tposition: ${h?"fixed":"absolute"};\n\t\ttop: 0;\n\t\ttransform: translate(0, ${d}px);\n\t\twidth: ${A}px;\n\t\tz-index: 1;\n\t`)},[N,s,c,u,a,x,w,$,k,M,y,m,v,b,_,h,d,A,g,p,function(){n(0,N=kt.innerHeight)},function(t){W[t?"unshift":"push"]((()=>{u=t,n(3,u)}))},function(t){W[t?"unshift":"push"]((()=>{c=t,n(2,c)}))},function(t){W[t?"unshift":"push"]((()=>{s=t,n(1,s)}))}]}class Ot extends $t{constructor(t){super(),wt(this,t,Tt,St,a,{top:10,bottom:11,threshold:12,query:13,parallax:14,index:5,count:6,offset:7,progress:8,visible:9},[-1,-1])}}function Pt(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}const qt=[];function zt(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!qt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),qt.push(n,e)}if(t){for(let t=0;t<qt.length;t+=2)qt[t][0](qt[t+1]);qt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const c=[a,s];return i.push(c),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}const Rt=zt(window.innerWidth),It=zt(window.innerHeight),Bt=zt("intro"),Lt=zt(!1),Ht=zt(2021),Dt=zt(!0),Xt=zt(!1),Vt=zt("cumulative_time_sen_and_house"),Yt=zt("both"),Ft=zt(!0),Wt=zt(!1),Ut=zt("nominate_dim1"),Gt=zt("cumulative_time_sen_and_house"),Zt=zt("cumulative_time_sen_and_house"),Jt=zt("nominate_dim1"),Qt=zt(2021),Kt=zt(!0),te=zt(Array()),ee=zt(!1),ne=zt("both");function re(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ie(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>re(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const oe=ie(re).right;function ae(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}ie((function(t){return null===t?NaN:+t})).center;class se extends Map{constructor(t,e=ue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(ce(this,t))}has(t){return super.has(ce(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function ce({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ue(t){return null!==t&&"object"==typeof t?t.valueOf():t}function le(t){return t}function fe(t,...e){return function(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new se,s=r[o++];let c=-1;for(const t of i){const e=s(t,++c,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,le,le,e)}var he=Array.prototype.slice;function de(t){return function(){return t}}var pe=Math.sqrt(50),ge=Math.sqrt(10),ye=Math.sqrt(2);function me(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=ve(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function ve(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=pe?10:o>=ge?5:o>=ye?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=pe?10:o>=ge?5:o>=ye?2:1)}function be(t){return Math.ceil(Math.log(function(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}(t))/Math.LN2)+1}function _e(){var t=le,e=ae,n=be;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var c=e(s),u=c[0],l=c[1],f=n(s,u,l);if(!Array.isArray(f)){const t=l,n=+f;if(e===ae&&([u,l]=function(t,e,n){let r;for(;;){const i=ve(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}(u,l,n)),(f=me(u,l,n))[f.length-1]>=l)if(t>=l&&e===ae){const t=ve(u,l,n);isFinite(t)&&(t>0?l=(Math.floor(l/t)+1)*t:t<0&&(l=(Math.ceil(l*-t)+1)/-t))}else f.pop()}for(var h=f.length;f[0]<=u;)f.shift(),--h;for(;f[h-1]>l;)f.pop(),--h;var d,p=new Array(h+1);for(i=0;i<=h;++i)(d=p[i]=[]).x0=i>0?f[i-1]:u,d.x1=i<h?f[i]:l;for(i=0;i<a;++i)u<=(o=s[i])&&o<=l&&p[oe(f,o,0,h)].push(r[i]);return p}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:de(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:de([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?de(he.call(t)):de(t),r):n},r}function xe(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function we(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function $e(t,e,n=0,r=t.length-1,i=re){for(;r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),c=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*c*(o-c)/o)*(a-o/2<0?-1:1);$e(t,e,Math.max(n,Math.floor(e-a*c/o+u)),Math.min(r,Math.floor(e+(o-a)*c/o+u)),i)}const o=t[e];let a=n,s=r;for(ke(t,n,e),i(t[r],o)>0&&ke(t,n,r);a<s;){for(ke(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?ke(t,n,s):(++s,ke(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ke(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Me(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return we(t);if(e>=1)return xe(t);var r,i=(r-1)*e,o=Math.floor(i),a=xe($e(t,o).subarray(0,o+1));return a+(we(t.subarray(o+1))-a)*(i-o)}}function Ne(t){if(!(i=t.length))return[];for(var e=-1,n=we(t,Ae),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function Ae(t){return t.length}var Ce=Array.prototype.slice;function Se(t){return t}var je=1e-6;function Ee(t){return"translate("+t+",0)"}function Te(t){return"translate(0,"+t+")"}function Oe(t){return e=>+t(e)}function Pe(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function qe(){return!this.__axis}function ze(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",f=1===t||3===t?Ee:Te;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):Se:i,g=Math.max(o,0)+s,y=e.range(),m=+y[0]+c,v=+y[y.length-1]+c,b=(e.bandwidth?Pe:Oe)(e.copy(),c),_=h.selection?h.selection():h,x=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(d,e).order(),$=w.exit(),k=w.enter().append("g").attr("class","tick"),M=w.select("line"),N=w.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(k),M=M.merge(k.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),N=N.merge(k.append("text").attr("fill","currentColor").attr(l,u*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==_&&(x=x.transition(h),w=w.transition(h),M=M.transition(h),N=N.transition(h),$=$.transition(h).attr("opacity",je).attr("transform",(function(t){return isFinite(t=b(t))?f(t+c):this.getAttribute("transform")})),k.attr("opacity",je).attr("transform",(function(t){var e=this.parentNode.__axis;return f((e&&isFinite(e=e(t))?e:b(t))+c)}))),$.remove(),x.attr("d",4===t||2===t?a?"M"+u*a+","+m+"H"+c+"V"+v+"H"+u*a:"M"+c+","+m+"V"+v:a?"M"+m+","+u*a+"V"+c+"H"+v+"V"+u*a:"M"+m+","+c+"H"+v),w.attr("opacity",1).attr("transform",(function(t){return f(b(t)+c)})),M.attr(l+"2",u*o),N.attr(l,u*g).text(p),_.filter(qe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),_.each((function(){this.__axis=b}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Ce.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Ce.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Ce.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h.offset=function(t){return arguments.length?(c=+t,h):c},h}function Re(t){return ze(3,t)}function Ie(t){return ze(4,t)}var Be={value:()=>{}};function Le(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new He(r)}function He(t){this._=t}function De(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Xe(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Ve(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Be,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}He.prototype=Le.prototype={constructor:He,on:function(t,e){var n,r=this._,i=De(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Ve(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ve(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Xe(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new He(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Ye="http://www.w3.org/1999/xhtml",Fe={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function We(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Fe.hasOwnProperty(e)?{space:Fe[e],local:t}:t}function Ue(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ye&&e.documentElement.namespaceURI===Ye?e.createElement(t):e.createElementNS(n,t)}}function Ge(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ze(t){var e=We(t);return(e.local?Ge:Ue)(e)}function Je(){}function Qe(t){return null==t?Je:function(){return this.querySelector(t)}}function Ke(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function tn(){return[]}function en(t){return null==t?tn:function(){return this.querySelectorAll(t)}}function nn(t){return function(){return this.matches(t)}}function rn(t){return function(e){return e.matches(t)}}var on=Array.prototype.find;function an(){return this.firstElementChild}var sn=Array.prototype.filter;function cn(){return this.children}function un(t){return new Array(t.length)}function ln(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function fn(t){return function(){return t}}function hn(t,e,n,r,i,o){for(var a,s=0,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ln(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function dn(t,e,n,r,i,o,a){var s,c,u,l=new Map,f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(c=e[s])&&(d[s]=u=a.call(c,c.__data__,s,e)+"",l.has(u)?i[s]=c:l.set(u,c));for(s=0;s<h;++s)u=a.call(t,o[s],s,o)+"",(c=l.get(u))?(r[s]=c,c.__data__=o[s],l.delete(u)):n[s]=new ln(t,o[s]);for(s=0;s<f;++s)(c=e[s])&&l.get(d[s])===c&&(i[s]=c)}function pn(t){return t.__data__}function gn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yn(t){return function(){this.removeAttribute(t)}}function mn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vn(t,e){return function(){this.setAttribute(t,e)}}function bn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _n(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function xn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $n(t){return function(){this.style.removeProperty(t)}}function kn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mn(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Nn(t,e){return t.style.getPropertyValue(e)||wn(t).getComputedStyle(t,null).getPropertyValue(e)}function An(t){return function(){delete this[t]}}function Cn(t,e){return function(){this[t]=e}}function Sn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function jn(t){return t.trim().split(/^|\s+/)}function En(t){return t.classList||new Tn(t)}function Tn(t){this._node=t,this._names=jn(t.getAttribute("class")||"")}function On(t,e){for(var n=En(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Pn(t,e){for(var n=En(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function qn(t){return function(){On(this,t)}}function zn(t){return function(){Pn(this,t)}}function Rn(t,e){return function(){(e.apply(this,arguments)?On:Pn)(this,t)}}function In(){this.textContent=""}function Bn(t){return function(){this.textContent=t}}function Ln(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Hn(){this.innerHTML=""}function Dn(t){return function(){this.innerHTML=t}}function Xn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Vn(){this.nextSibling&&this.parentNode.appendChild(this)}function Yn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fn(){return null}function Wn(){var t=this.parentNode;t&&t.removeChild(this)}function Un(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Jn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Qn(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Kn(t,e,n){var r=wn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function tr(t,e){return function(){return Kn(this,t,e)}}function er(t,e){return function(){return Kn(this,t,e.apply(this,arguments))}}ln.prototype={constructor:ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Tn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var nr=[null];function rr(t,e){this._groups=t,this._parents=e}function ir(){return new rr([[document.documentElement]],nr)}function or(t){return"string"==typeof t?new rr([[document.querySelector(t)]],[document.documentElement]):new rr([[t]],nr)}function ar(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cr(){}rr.prototype=ir.prototype={constructor:rr,select:function(t){"function"!=typeof t&&(t=Qe(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,u=r[i]=new Array(c),l=0;l<c;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),u[l]=a);return new rr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Ke(e)}}(t):en(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,u=0;u<c;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new rr(r,i)},selectChild:function(t){return this.select(null==t?an:function(t){return function(){return on.call(this.children,t)}}("function"==typeof t?t:rn(t)))},selectChildren:function(t){return this.selectAll(null==t?cn:function(t){return function(){return sn.call(this.children,t)}}("function"==typeof t?t:rn(t)))},filter:function(t){"function"!=typeof t&&(t=nn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new rr(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,pn);var n=e?dn:hn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=fn(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],f=i[u],h=f.length,d=Ke(t.call(l,l&&l.__data__,u,r)),p=d.length,g=s[u]=new Array(p),y=a[u]=new Array(p),m=c[u]=new Array(h);n(l,f,g,y,m,d,e);for(var v,b,_=0,x=0;_<p;++_)if(v=g[_]){for(_>=x&&(x=_+1);!(b=y[x])&&++x<p;);v._next=b||null}}return(a=new rr(a,r))._enter=s,a._exit=c,a},enter:function(){return new rr(this._enter||this._groups.map(un),this._parents)},exit:function(){return new rr(this._exit||this._groups.map(un),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof rr))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,u=e[s],l=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<r;++s)a[s]=e[s];return new rr(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=gn);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,u=i[o]=new Array(c),l=0;l<c;++l)(a=s[l])&&(u[l]=a);u.sort(e)}return new rr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=We(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?mn:yn:"function"==typeof e?n.local?xn:_n:n.local?bn:vn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?$n:"function"==typeof e?Mn:kn)(t,e,null==n?"":n)):Nn(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?An:"function"==typeof e?Sn:Cn)(t,e)):this.node()[t]},classed:function(t,e){var n=jn(t+"");if(arguments.length<2){for(var r=En(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Rn:e?qn:zn)(n,e))},text:function(t){return arguments.length?this.each(null==t?In:("function"==typeof t?Ln:Bn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Hn:("function"==typeof t?Xn:Dn)(t)):this.node().innerHTML},raise:function(){return this.each(Vn)},lower:function(){return this.each(Yn)},append:function(t){var e="function"==typeof t?t:Ze(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ze(t),r=null==e?Fn:"function"==typeof e?e:Qe(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Wn)},clone:function(t){return this.select(t?Gn:Un)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Zn(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Qn:Jn,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(r=0,c=s[u];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?er:tr)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var ur=.7,lr=1/ur,fr="\\s*([+-]?\\d+)\\s*",hr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",dr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pr=/^#([0-9a-f]{3,8})$/,gr=new RegExp("^rgb\\("+[fr,fr,fr]+"\\)$"),yr=new RegExp("^rgb\\("+[dr,dr,dr]+"\\)$"),mr=new RegExp("^rgba\\("+[fr,fr,fr,hr]+"\\)$"),vr=new RegExp("^rgba\\("+[dr,dr,dr,hr]+"\\)$"),br=new RegExp("^hsl\\("+[hr,dr,dr]+"\\)$"),_r=new RegExp("^hsla\\("+[hr,dr,dr,hr]+"\\)$"),xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wr(){return this.rgb().formatHex()}function $r(){return this.rgb().formatRgb()}function kr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Mr(e):3===n?new Sr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Nr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Nr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=gr.exec(t))?new Sr(e[1],e[2],e[3],1):(e=yr.exec(t))?new Sr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=mr.exec(t))?Nr(e[1],e[2],e[3],e[4]):(e=vr.exec(t))?Nr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=br.exec(t))?Or(e[1],e[2]/100,e[3]/100,1):(e=_r.exec(t))?Or(e[1],e[2]/100,e[3]/100,e[4]):xr.hasOwnProperty(t)?Mr(xr[t]):"transparent"===t?new Sr(NaN,NaN,NaN,0):null}function Mr(t){return new Sr(t>>16&255,t>>8&255,255&t,1)}function Nr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sr(t,e,n,r)}function Ar(t){return t instanceof cr||(t=kr(t)),t?new Sr((t=t.rgb()).r,t.g,t.b,t.opacity):new Sr}function Cr(t,e,n,r){return 1===arguments.length?Ar(t):new Sr(t,e,n,null==r?1:r)}function Sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function jr(){return"#"+Tr(this.r)+Tr(this.g)+Tr(this.b)}function Er(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Tr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Or(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qr(t,e,n,r)}function Pr(t){if(t instanceof qr)return new qr(t.h,t.s,t.l,t.opacity);if(t instanceof cr||(t=kr(t)),!t)return new qr;if(t instanceof qr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new qr(a,s,c,t.opacity)}function qr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function zr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ar(cr,kr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:wr,formatHex:wr,formatHsl:function(){return Pr(this).formatHsl()},formatRgb:$r,toString:$r}),ar(Sr,Cr,sr(cr,{brighter:function(t){return t=null==t?lr:Math.pow(lr,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ur:Math.pow(ur,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jr,formatHex:jr,formatRgb:Er,toString:Er})),ar(qr,(function(t,e,n,r){return 1===arguments.length?Pr(t):new qr(t,e,n,null==r?1:r)}),sr(cr,{brighter:function(t){return t=null==t?lr:Math.pow(lr,t),new qr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ur:Math.pow(ur,t),new qr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sr(zr(t>=240?t-240:t+120,i,r),zr(t,i,r),zr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Rr=t=>()=>t;function Ir(t){return 1==(t=+t)?Br:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Rr(isNaN(e)?n:e)}}function Br(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Rr(isNaN(t)?e:t)}var Lr=function t(e){var n=Ir(e);function r(t,e){var r=n((t=Cr(t)).r,(e=Cr(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Br(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Hr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Dr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Gr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Xr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yr(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Gr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Fr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wr=new RegExp(Fr.source,"g");function Ur(t,e){var n,r,i,o=Fr.lastIndex=Wr.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=Fr.exec(t))&&(r=Wr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Vr(n,r)})),o=Wr.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function Gr(t,e){var n,r=typeof e;return null==e||"boolean"===r?Rr(e):("number"===r?Vr:"string"===r?(n=kr(e))?(e=n,Lr):Ur:e instanceof kr?Lr:e instanceof Date?Xr:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Hr:Array.isArray(e)?Dr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Yr:Vr)(t,e)}function Zr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Jr,Qr=180/Math.PI,Kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ti(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Qr,skewX:Math.atan(c)*Qr,scaleX:a,scaleY:s}}function ei(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:Vr(t,i)},{i:c-2,x:Vr(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Vr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Vr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Vr(t,n)},{i:s-2,x:Vr(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var ni,ri,ii=ei((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Kr:ti(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),oi=ei((function(t){return null==t?Kr:(Jr||(Jr=document.createElementNS("http://www.w3.org/2000/svg","g")),Jr.setAttribute("transform",t),(t=Jr.transform.baseVal.consolidate())?ti((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Kr)}),", ",")",")"),ai=0,si=0,ci=0,ui=0,li=0,fi=0,hi="object"==typeof performance&&performance.now?performance:Date,di="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pi(){return li||(di(gi),li=hi.now()+fi)}function gi(){li=0}function yi(){this._call=this._time=this._next=null}function mi(t,e,n){var r=new yi;return r.restart(t,e,n),r}function vi(){li=(ui=hi.now())+fi,ai=si=0;try{!function(){pi(),++ai;for(var t,e=ni;e;)(t=li-e._time)>=0&&e._call.call(null,t),e=e._next;--ai}()}finally{ai=0,function(){var t,e,n=ni,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ni=e);ri=t,_i(r)}(),li=0}}function bi(){var t=hi.now(),e=t-ui;e>1e3&&(fi-=e,ui=t)}function _i(t){ai||(si&&(si=clearTimeout(si)),t-li>24?(t<1/0&&(si=setTimeout(vi,t-hi.now()-fi)),ci&&(ci=clearInterval(ci))):(ci||(ui=hi.now(),ci=setInterval(bi,1e3)),ai=1,di(vi)))}function xi(t,e,n){var r=new yi;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}yi.prototype=mi.prototype={constructor:yi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?pi():+n)+(null==e?0:+e),this._next||ri===this||(ri?ri._next=this:ni=this,ri=this),this._call=t,this._time=n,_i()},stop:function(){this._call&&(this._call=null,this._time=1/0,_i())}};var wi=Le("start","end","cancel","interrupt"),$i=[];function ki(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var u,l,f,h;if(1!==n.state)return c();for(u in i)if((h=i[u]).name===n.name){if(3===h.state)return xi(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[u]):+u<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[u])}if(xi((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,l=-1;u<f;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=mi(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:wi,tween:$i,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Mi(t,e){var n=Ai(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ni(t,e){var n=Ai(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Ai(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ci(t,e){var n,r;return function(){var i=Ni(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Si(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ni(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function ji(t,e,n){var r=t._id;return t.each((function(){var t=Ni(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ai(t,r).value[e]}}function Ei(t,e){var n;return("number"==typeof e?Vr:e instanceof kr?Lr:(n=kr(e))?(e=n,Lr):Ur)(t,e)}function Ti(t){return function(){this.removeAttribute(t)}}function Oi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pi(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function qi(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function zi(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttribute(t)}}function Ri(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Ii(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Bi(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Li(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Bi(t,i)),n}return i._value=e,i}function Hi(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ii(t,i)),n}return i._value=e,i}function Di(t,e){return function(){Mi(this,t).delay=+e.apply(this,arguments)}}function Xi(t,e){return e=+e,function(){Mi(this,t).delay=e}}function Vi(t,e){return function(){Ni(this,t).duration=+e.apply(this,arguments)}}function Yi(t,e){return e=+e,function(){Ni(this,t).duration=e}}function Fi(t,e){if("function"!=typeof e)throw new Error;return function(){Ni(this,t).ease=e}}function Wi(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Mi:Ni;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Ui=ir.prototype.constructor;function Gi(t){return function(){this.style.removeProperty(t)}}function Zi(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Ji(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Zi(t,o,n)),r}return o._value=e,o}function Qi(t){return function(e){this.textContent=t.call(this,e)}}function Ki(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Qi(r)),e}return r._value=t,r}var to=0;function eo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function no(){return++to}var ro=ir.prototype;eo.prototype={constructor:eo,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Qe(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,u=r[a],l=u.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=u[h])&&(c=t.call(s,s.__data__,h,u))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,ki(f[h],e,n,h,f,Ai(s,n)));return new eo(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=en(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,u=r[s],l=u.length,f=0;f<l;++f)if(c=u[f]){for(var h,d=t.call(c,c.__data__,f,u),p=Ai(c,n),g=0,y=d.length;g<y;++g)(h=d[g])&&ki(h,e,n,g,d,p);o.push(d),a.push(c)}return new eo(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=nn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new eo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,u=e[s],l=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<r;++s)a[s]=e[s];return new eo(a,this._parents,this._name,this._id)},selection:function(){return new Ui(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=no(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,u=0;u<c;++u)if(a=s[u]){var l=Ai(a,e);ki(a,t,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new eo(r,this._parents,t,n)},call:ro.call,nodes:ro.nodes,node:ro.node,size:ro.size,empty:ro.empty,each:ro.each,on:function(t,e){var n=this._id;return arguments.length<2?Ai(this.node(),n).on.on(t):this.each(Wi(n,t,e))},attr:function(t,e){var n=We(t),r="transform"===n?oi:Ei;return this.attrTween(t,"function"==typeof e?(n.local?Ri:zi)(n,r,ji(this,"attr."+t,e)):null==e?(n.local?Oi:Ti)(n):(n.local?qi:Pi)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=We(t);return this.tween(n,(r.local?Li:Hi)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?ii:Ei;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Nn(this,t),a=(this.style.removeProperty(t),Nn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Gi(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Nn(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Nn(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}(t,r,ji(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=Ni(this,t),u=c.on,l=null==c.value[a]?o||(o=Gi(e)):void 0;u===n&&i===l||(r=(n=u).copy()).on(s,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Nn(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ji(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ji(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ki(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ai(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Ci:Si)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Di:Xi)(e,t)):Ai(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Vi:Yi)(e,t)):Ai(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Fi(e,t)):Ai(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ni(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=Ni(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:ro[Symbol.iterator]};var io={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function oo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ir.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},ir.prototype.transition=function(t){var e,n;t instanceof eo?(e=t._id,t=t._name):(e=no(),(n=io).time=pi(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,u=0;u<c;++u)(a=s[u])&&ki(a,t,e,u,s,n||oo(a,e));return new eo(r,this._parents,t,e)};const ao=Math.PI,so=2*ao,co=1e-6,uo=so-co;function lo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function fo(){return new lo}lo.prototype=fo.prototype={constructor:lo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,c=r-e,u=o-t,l=a-e,f=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>co)if(Math.abs(l*s-c*u)>co&&i){var h=n-o,d=r-a,p=s*s+c*c,g=h*h+d*d,y=Math.sqrt(p),m=Math.sqrt(f),v=i*Math.tan((ao-Math.acos((p+f-g)/(2*y*m)))/2),b=v/m,_=v/y;Math.abs(b-1)>co&&(this._+="L"+(t+b*u)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>u*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=t+a,u=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>co||Math.abs(this._y1-u)>co)&&(this._+="L"+c+","+u),n&&(f<0&&(f=f%so+so),f>uo?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):f>co&&(this._+="A"+n+","+n+",0,"+ +(f>=ao)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ho={},po={};function go(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function yo(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function mo(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function vo(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+mo(-e,6):e>9999?"+"+mo(e,6):mo(e,4))+"-"+mo(t.getUTCMonth()+1,2)+"-"+mo(t.getUTCDate(),2)+(o?"T"+mo(n,2)+":"+mo(r,2)+":"+mo(i,2)+"."+mo(o,3)+"Z":i?"T"+mo(n,2)+":"+mo(r,2)+":"+mo(i,2)+"Z":r||n?"T"+mo(n,2)+":"+mo(r,2)+"Z":"")}var bo=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,c=o<=0,u=!1;function l(){if(c)return po;if(u)return u=!1,ho;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?c=!0:10===(r=t.charCodeAt(a++))?u=!0:13===r&&(u=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))u=!0;else if(13===r)u=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==po;){for(var f=[];r!==ho&&r!==po;)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?vo(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=go(t);return function(r,i){return e(n(r),i,t)}}(t,e):go(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=yo(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=yo(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(",").parse;function _o(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function xo(t,e){return fetch(t,e).then(_o)}var wo,$o=(wo=bo,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),xo(t,e).then((function(t){return wo(t,n)}))});function ko(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Mo(t,e){return fetch(t,e).then(ko)}function No(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ao(t){return(t=No(Math.abs(t)))?t[1]:NaN}var Co,So=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jo(t){if(!(e=So.exec(t)))throw new Error("invalid format: "+t);var e;return new Eo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Eo(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function To(t,e){var n=No(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}jo.prototype=Eo.prototype,Eo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Oo={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>To(100*t,e),r:To,s:function(t,e){var n=No(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Co=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+No(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Po(t){return t}var qo,zo,Ro,Io=Array.prototype.map,Bo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lo(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Po:(e=Io.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Po:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Io.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=jo(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Oo[v]||(void 0===y&&(y=12),m=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===h?o:/[%p]/.test(v)?c:"",x=Oo[v],w=/[defgprs%]/.test(v);function $(t){var i,o,c,h=b,$=_;if("c"===v)$=x(t)+$,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),y),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:u:"-"===f||"("===f?"":f)+h,$=("s"===v?Bo[8+Co/3]:"")+$+(k&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){$=(46===c?a+t.slice(i+1):t.slice(i))+$,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var M=h.length+t.length+$.length,N=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(N+t,N.length?p-$.length:1/0),N=""),n){case"<":t=h+t+$+N;break;case"=":t=h+N+t+$;break;case"^":t=N.slice(0,M=N.length>>1)+h+t+$+N.slice(M);break;default:t=N+h+t+$}return s(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),$.toString=function(){return t+""},$}return{format:f,formatPrefix:function(t,e){var n=f(((t=jo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ao(e)/3))),i=Math.pow(10,-r),o=Bo[8+r/3];return function(t){return n(i*t)+o}}}}function Ho(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Do(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Vo)):void 0===e&&(e=Xo);for(var n,r,i,o,a,s=new Wo(t),c=[s];n=c.pop();)if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)c.push(r=i[o]=new Wo(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Fo)}function Xo(t){return t.children}function Vo(t){return Array.isArray(t)?t[1]:null}function Yo(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Fo(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Wo(t){this.data=t,this.depth=this.height=0,this.parent=null}function Uo(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,o=[];r<i;)e=t[r],n&&Jo(n,e)?++r:(n=Ko(o=Go(o,e)),r=0);return n}function Go(t,e){var n,r;if(Qo(e,t))return[e];for(n=0;n<t.length;++n)if(Zo(e,t[n])&&Qo(ta(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Zo(ta(t[n],t[r]),e)&&Zo(ta(t[n],e),t[r])&&Zo(ta(t[r],e),t[n])&&Qo(ea(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Zo(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Jo(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Qo(t,e){for(var n=0;n<e.length;++n)if(!Jo(t,e[n]))return!1;return!0}function Ko(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return ta(t[0],t[1]);case 3:return ea(t[0],t[1],t[2])}var e}function ta(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,c=o-n,u=a-r,l=s-i,f=Math.sqrt(c*c+u*u);return{x:(n+o+c/f*l)/2,y:(r+a+u/f*l)/2,r:(f+i+s)/2}}function ea(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,c=e.r,u=n.x,l=n.y,f=n.r,h=r-a,d=r-u,p=i-s,g=i-l,y=c-o,m=f-o,v=r*r+i*i-o*o,b=v-a*a-s*s+c*c,_=v-u*u-l*l+f*f,x=d*p-h*g,w=(p*_-g*b)/(2*x)-r,$=(g*y-p*m)/x,k=(d*b-h*_)/(2*x)-i,M=(h*m-d*y)/x,N=$*$+M*M-1,A=2*(o+w*$+k*M),C=w*w+k*k-o*o,S=-(N?(A+Math.sqrt(A*A-4*N*C))/(2*N):C/A);return{x:r+w+$*S,y:i+k+M*S,r:S}}function na(t,e,n){var r,i,o,a,s=t.x-e.x,c=t.y-e.y,u=s*s+c*c;u?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*s-o*c,n.y=t.y-r*c+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-o*c,n.y=e.y+r*c+o*s)):(n.x=e.x+n.r,n.y=e.y)}function ra(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function ia(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function oa(t){this._=t,this.next=null,this.previous=null}function aa(t){if(!(i=(t=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var e,n,r,i,o,a,s,c,u,l,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;na(n,e,r=t[2]),e=new oa(e),n=new oa(n),r=new oa(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){na(e._,n._,r=t[s]),r=new oa(r),c=n.next,u=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(ra(c._,r._)){n=c,e.next=n,n.previous=e,--s;continue t}l+=c._.r,c=c.next}else{if(ra(u._,r._)){(e=u).next=n,n.previous=e,--s;continue t}f+=u._.r,u=u.previous}}while(c!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=ia(e);(r=r.next)!==n;)(a=ia(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Uo(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function sa(t){return null==t?null:function(t){if("function"!=typeof t)throw new Error;return t}(t)}function ca(){return 0}function ua(t){return function(){return t}}function la(t){return Math.sqrt(t.value)}function fa(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ha(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=aa(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function da(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function pa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ga(t){return+t}qo=Lo({thousands:",",grouping:[3],currency:["$",""]}),zo=qo.format,Ro=qo.formatPrefix,Wo.prototype=Do.prototype={constructor:Wo,count:function(){return this.eachAfter(Ho)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,a=[o],s=[],c=-1;o=a.pop();)if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);for(;o=s.pop();)t.call(e,o,++c,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],a=-1;i=o.pop();)if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Do(this).eachBefore(Yo)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};var ya=[0,1];function ma(t){return t}function va(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ba(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=va(i,r),o=n(a,o)):(r=va(r,i),o=n(o,a)),function(t){return o(r(t))}}function _a(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=va(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=oe(t,e,1,r)-1;return o[n](i[n](e))}}function xa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wa(){var t,e,n,r,i,o,a=ya,s=ya,c=Gr,u=ma;function l(){var t,e,n,c=Math.min(a.length,s.length);return u!==ma&&(t=a[0],e=a[c-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?_a:ba,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,c)))(t(u(e)))}return f.invert=function(n){return u(e((o||(o=r(s,a.map(t),Vr)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,ga),l()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),c=Zr,l()},f.clamp=function(t){return arguments.length?(u=!!t||ma,l()):u!==ma},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function $a(){return wa()(ma,ma)}function ka(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=pe?i*=10:o>=ge?i*=5:o>=ye&&(i*=2),e<t?-i:i}(t,e,n);switch((r=jo(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ao(e)/3)))-Ao(Math.abs(t)))}(o,a))||(r.precision=i),Ro(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ao(e)-Ao(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ao(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return zo(r)}function Ma(t){var e=t.domain;return t.ticks=function(t){var n=e();return me(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ka(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,c=o[a],u=o[s],l=10;for(u<c&&(i=c,c=u,u=i,i=a,a=s,s=i);l-- >0;){if((i=ve(c,u,n))===r)return o[a]=c,o[s]=u,e(o);if(i>0)c=Math.floor(c/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function Na(){var t=$a();return t.copy=function(){return xa(t,Na())},pa.apply(t,arguments),Ma(t)}function Aa(t){return function(){return t}}function Ca(t){this._context=t}function Sa(t){return new Ca(t)}function ja(t){return t[0]}function Ea(t){return t[1]}function Ta(t,e){var n=Aa(!0),r=null,i=Sa,o=null;function a(a){var s,c,u,l=(a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(a)).length,f=!1;for(null==r&&(o=i(u=fo())),s=0;s<=l;++s)!(s<l&&n(c=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,s,a),+e(c,s,a));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?ja:Aa(t),e="function"==typeof e?e:void 0===e?Ea:Aa(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:Aa(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Aa(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Aa(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Oa="http://www.w3.org/1999/xhtml",Pa={svg:"http://www.w3.org/2000/svg",xhtml:Oa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qa(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Pa.hasOwnProperty(e)?{space:Pa[e],local:t}:t}function za(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oa&&e.documentElement.namespaceURI===Oa?e.createElement(t):e.createElementNS(n,t)}}function Ra(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ia(t){var e=qa(t);return(e.local?Ra:za)(e)}function Ba(){}function La(t){return null==t?Ba:function(){return this.querySelector(t)}}function Ha(){return[]}function Da(t){return new Array(t.length)}function Xa(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Xa.prototype={constructor:Xa,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Va(t,e,n,r,i,o){for(var a,s=0,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Xa(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function Ya(t,e,n,r,i,o,a){var s,c,u,l={},f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(c=e[s])&&(d[s]=u="$"+a.call(c,c.__data__,s,e),u in l?i[s]=c:l[u]=c);for(s=0;s<h;++s)(c=l[u="$"+a.call(t,o[s],s,o)])?(r[s]=c,c.__data__=o[s],l[u]=null):n[s]=new Xa(t,o[s]);for(s=0;s<f;++s)(c=e[s])&&l[d[s]]===c&&(i[s]=c)}function Fa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wa(t){return function(){this.removeAttribute(t)}}function Ua(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ga(t,e){return function(){this.setAttribute(t,e)}}function Za(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ja(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Qa(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ka(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ts(t){return function(){this.style.removeProperty(t)}}function es(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ns(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function rs(t,e){return t.style.getPropertyValue(e)||Ka(t).getComputedStyle(t,null).getPropertyValue(e)}function is(t){return function(){delete this[t]}}function os(t,e){return function(){this[t]=e}}function as(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ss(t){return t.trim().split(/^|\s+/)}function cs(t){return t.classList||new us(t)}function us(t){this._node=t,this._names=ss(t.getAttribute("class")||"")}function ls(t,e){for(var n=cs(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function fs(t,e){for(var n=cs(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hs(t){return function(){ls(this,t)}}function ds(t){return function(){fs(this,t)}}function ps(t,e){return function(){(e.apply(this,arguments)?ls:fs)(this,t)}}function gs(){this.textContent=""}function ys(t){return function(){this.textContent=t}}function ms(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function vs(){this.innerHTML=""}function bs(t){return function(){this.innerHTML=t}}function _s(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function xs(){this.nextSibling&&this.parentNode.appendChild(this)}function ws(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $s(){return null}function ks(){var t=this.parentNode;t&&t.removeChild(this)}function Ms(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ns(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}us.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var As={},Cs=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(As={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ss(t,e,n){return t=js(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function js(t,e,n){return function(r){var i=Cs;Cs=r;try{t.call(this,this.__data__,e,n)}finally{Cs=i}}}function Es(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ts(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Os(t,e,n){var r=As.hasOwnProperty(t.type)?Ss:js;return function(i,o,a){var s,c=this.__on,u=r(e,o,a);if(c)for(var l=0,f=c.length;l<f;++l)if((s=c[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},c?c.push(s):this.__on=[s]}}function Ps(t,e,n,r){var i=Cs;t.sourceEvent=Cs,Cs=t;try{return e.apply(n,r)}finally{Cs=i}}function qs(t,e,n){var r=Ka(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function zs(t,e){return function(){return qs(this,t,e)}}function Rs(t,e){return function(){return qs(this,t,e.apply(this,arguments))}}var Is=[null];function Bs(t,e){this._groups=t,this._parents=e}function Ls(t){return"string"==typeof t?new Bs([[document.querySelector(t)]],[document.documentElement]):new Bs([[t]],Is)}function Hs(){for(var t,e=Cs;t=e.sourceEvent;)e=t;return e}function Ds(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Xs(t){var e=Hs();return e.changedTouches&&(e=e.changedTouches[0]),Ds(t,e)}function Vs(t,e,n){arguments.length<3&&(n=e,e=Hs().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Ds(t,r);return null}Bs.prototype={constructor:Bs,select:function(t){"function"!=typeof t&&(t=La(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,u=r[i]=new Array(c),l=0;l<c;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),u[l]=a);return new Bs(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Ha:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,u=0;u<c;++u)(a=s[u])&&(r.push(t.call(a,a.__data__,u,s)),i.push(a));return new Bs(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&c.push(o);return new Bs(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),u=-1,this.each((function(t){d[++u]=t})),d;var n=e?Ya:Va,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],f=i[u],h=f.length,d=t.call(l,l&&l.__data__,u,r),p=d.length,g=s[u]=new Array(p),y=a[u]=new Array(p);n(l,f,g,y,c[u]=new Array(h),d,e);for(var m,v,b=0,_=0;b<p;++b)if(m=g[b]){for(b>=_&&(_=b+1);!(v=y[_])&&++_<p;);m._next=v||null}}return(a=new Bs(a,r))._enter=s,a._exit=c,a},enter:function(){return new Bs(this._enter||this._groups.map(Da),this._parents)},exit:function(){return new Bs(this._exit||this._groups.map(Da),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,u=e[s],l=n[s],f=u.length,h=a[s]=new Array(f),d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;s<r;++s)a[s]=e[s];return new Bs(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Fa);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,u=i[o]=new Array(c),l=0;l<c;++l)(a=s[l])&&(u[l]=a);u.sort(e)}return new Bs(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=qa(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Ua:Wa:"function"==typeof e?n.local?Qa:Ja:n.local?Za:Ga)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ts:"function"==typeof e?ns:es)(t,e,null==n?"":n)):rs(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?is:"function"==typeof e?as:os)(t,e)):this.node()[t]},classed:function(t,e){var n=ss(t+"");if(arguments.length<2){for(var r=cs(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ps:e?hs:ds)(n,e))},text:function(t){return arguments.length?this.each(null==t?gs:("function"==typeof t?ms:ys)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?vs:("function"==typeof t?_s:bs)(t)):this.node().innerHTML},raise:function(){return this.each(xs)},lower:function(){return this.each(ws)},append:function(t){var e="function"==typeof t?t:Ia(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Ia(t),r=null==e?$s:"function"==typeof e?e:La(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ks)},clone:function(t){return this.select(t?Ns:Ms)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Es(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Os:Ts,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(r=0,c=s[u];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?Rs:zs)(t,e))}};var Ys={value:function(){}};function Fs(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Ws(r)}function Ws(t){this._=t}function Us(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Gs(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Zs(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ys,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Js(){Cs.stopImmediatePropagation()}function Qs(){Cs.preventDefault(),Cs.stopImmediatePropagation()}function Ks(t){var e=t.document.documentElement,n=Ls(t).on("dragstart.drag",Qs,!0);"onselectstart"in e?n.on("selectstart.drag",Qs,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function tc(t){return function(){return t}}function ec(t,e,n,r,i,o,a,s,c,u){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=c,this._=u}function nc(){return!Cs.button}function rc(){return this.parentNode}function ic(t){return null==t?{x:Cs.x,y:Cs.y}:t}function oc(){return"ontouchstart"in this}function ac(){var t,e,n,r,i=nc,o=rc,a=ic,s=oc,c={},u=Fs("start","drag","end"),l=0,f=0;function h(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",y).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),Xs,this,arguments);a&&(Ls(Cs.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Ks(Cs.view),Js(),n=!1,t=Cs.clientX,e=Cs.clientY,a("start"))}}function p(){if(Qs(),!n){var r=Cs.clientX-t,i=Cs.clientY-e;n=r*r+i*i>f}c.mouse("drag")}function g(){Ls(Cs.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,r=Ls(t).on("dragstart.drag",null);e&&(r.on("click.drag",Qs,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(Cs.view,n),Qs(),c.mouse("end")}function y(){if(i.apply(this,arguments)){var t,e,n=Cs.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=b(n[t].identifier,r,Vs,this,arguments))&&(Js(),e("start"))}}function m(){var t,e,n=Cs.changedTouches,r=n.length;for(t=0;t<r;++t)(e=c[n[t].identifier])&&(Qs(),e("drag"))}function v(){var t,e,n=Cs.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=c[n[t].identifier])&&(Js(),e("end"))}function b(t,e,n,r,i){var o,s,f,d=n(e,t),p=u.copy();if(Ps(new ec(h,"beforestart",o,t,l,d[0],d[1],0,0,p),(function(){return null!=(Cs.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,f=o.y-d[1]||0,!0)})))return function a(u){var g,y=d;switch(u){case"start":c[t]=a,g=l++;break;case"end":delete c[t],--l;case"drag":d=n(e,t),g=l}Ps(new ec(h,u,o,t,g,d[0]+s,d[1]+f,d[0]-y[0],d[1]-y[1],p),p.apply,p,[u,r,i])}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:tc(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:tc(t),h):o},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:tc(t),h):a},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:tc(!!t),h):s},h.on=function(){var t=u.on.apply(u,arguments);return t===u?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}Ws.prototype=Fs.prototype={constructor:Ws,on:function(t,e){var n,r=this._,i=Us(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Zs(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Zs(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Gs(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ws(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},ec.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var sc=Math.PI,cc=2*sc,uc=1e-6,lc=cc-uc;function fc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hc(){return new fc}function dc(t){return function(){return t}}fc.prototype=hc.prototype={constructor:fc,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,c=r-e,u=o-t,l=a-e,f=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>uc)if(Math.abs(l*s-c*u)>uc&&i){var h=n-o,d=r-a,p=s*s+c*c,g=h*h+d*d,y=Math.sqrt(p),m=Math.sqrt(f),v=i*Math.tan((sc-Math.acos((p+f-g)/(2*y*m)))/2),b=v/m,_=v/y;Math.abs(b-1)>uc&&(this._+="L"+(t+b*u)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>u*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=t+a,u=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>uc||Math.abs(this._y1-u)>uc)&&(this._+="L"+c+","+u),n&&(f<0&&(f=f%cc+cc),f>lc?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):f>uc&&(this._+="A"+n+","+n+",0,"+ +(f>=sc)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var pc=1e-12,gc=Math.PI,yc=gc/2,mc=2*gc;function vc(t){return t.innerRadius}function bc(t){return t.outerRadius}function _c(t){return t.startAngle}function xc(t){return t.endAngle}function wc(t){return t&&t.padAngle}function $c(t){return t>=1?yc:t<=-1?-yc:Math.asin(t)}function kc(t,e,n,r,i,o,a,s){var c=n-t,u=r-e,l=a-i,f=s-o,h=(l*(e-o)-f*(t-i))/(f*c-l*u);return[t+h*c,e+h*u]}function Mc(t,e,n,r,i,o,a){var s=t-n,c=e-r,u=(a?o:-o)/Math.sqrt(s*s+c*c),l=u*c,f=-u*s,h=t+l,d=e+f,p=n+l,g=r+f,y=(h+p)/2,m=(d+g)/2,v=p-h,b=g-d,_=v*v+b*b,x=i-o,w=h*g-p*d,$=(b<0?-1:1)*Math.sqrt(Math.max(0,x*x*_-w*w)),k=(w*b-v*$)/_,M=(-w*v-b*$)/_,N=(w*b+v*$)/_,A=(-w*v+b*$)/_,C=k-y,S=M-m,j=N-y,E=A-m;return C*C+S*S>j*j+E*E&&(k=N,M=A),{cx:k,cy:M,x01:-l,y01:-f,x11:k*(i/x-1),y11:M*(i/x-1)}}function Nc(t){this._context=t}function Ac(t){return new Nc(t)}function Cc(t){return t[0]}function Sc(t){return t[1]}function jc(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ec(t,e){this._context=t,this._k=(1-e)/6}function Tc(t,e){this._context=t,this._alpha=e}Nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:jc(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>pc){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>pc){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Oc=function t(e){function n(t){return e?new Tc(t,e):new Ec(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Pc(t){return t<0?-1:1}function qc(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Pc(o)+Pc(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function zc(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Rc(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ic(t){this._context=t}Ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rc(this,this._t0,zc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rc(this,zc(this,n=qc(this,t,e)),n);break;default:Rc(this,this._t0,n=qc(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Ic.prototype).point=function(t,e){Ic.prototype.point.call(this,e,t)};var Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Hc=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Dc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Vc=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Yc=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Fc=function(){function t(e){var n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.nx,s=e.ny,c=e.dy,u=void 0===c?0:c,l=e.dx,f=void 0===l?0:l,h=e.color,d=void 0===h?"grey":h,p=e.data,g=e.type,y=e.subject,m=e.connector,v=e.note,b=e.disable,_=e.id,x=e.className;Lc(this,t),this._dx=void 0!==a?a-r:f,this._dy=void 0!==s?s-o:u,this._x=r,this._y=o,this._color=d,this.id=_,this._className=x||"",this._type=g||"",this.data=p,this.note=v||{},this.connector=m||{},this.subject=y||{},this.disable=b||[]}return Hc(t,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&0!==this.type.subject.selectAll(":not(.handle)").nodes().length&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),0!==this.type.connector.selectAll(":not(.handle)").nodes().length&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(t){this._type=t,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.x,n=t.y;this._dx=e,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.x,n=t.y;this._x=e,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),Wc=function(){function t(e){var n=e.annotations,r=e.accessors,i=e.accessorsInverse;Lc(this,t),this.accessors=r,this.accessorsInverse=i,this.annotations=n}return Hc(t,[{key:"clearTypes",value:function(t){this.annotations.forEach((function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note}))}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach((function(e){e.type.setPositionWithAccessors(t.accessors)}))}},{key:"editMode",value:function(t){this.annotations.forEach((function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())}))}},{key:"updateDisable",value:function(t){this.annotations.forEach((function(e){e.disable=t,e.type&&t.forEach((function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)}))}))}},{key:"updateTextWrap",value:function(t){this.annotations.forEach((function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)}))}},{key:"updateText",value:function(){this.annotations.forEach((function(t){t.type&&t.type.drawText&&t.type.drawText()}))}},{key:"updateNotePadding",value:function(t){this.annotations.forEach((function(e){e.type&&(e.type.notePadding=t)}))}},{key:"json",get:function(){var t=this;return this.annotations.map((function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach((function(r){n.data[r]=t.accessorsInverse[r]({x:e.x,y:e.y})}))),n}))}},{key:"noteNodes",get:function(){return this.annotations.map((function(t){return Dc({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})}))}}]),t}(),Uc=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},Gc=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},Zc=["topBottom","top","bottom"],Jc=["leftRight","left","right"],Qc=function(t){var e=t.data,n=t.curve,r=void 0===n?Ac:n,i=t.canvasContext,o=t.className,a=t.classID,s=function(){var t=Cc,e=Sc,n=dc(!0),r=null,i=Ac,o=null;function a(a){var s,c,u,l=a.length,f=!1;for(null==r&&(o=i(u=hc())),s=0;s<=l;++s)!(s<l&&n(c=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,s,a),+e(c,s,a));if(u)return o=null,u+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:dc(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:dc(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:dc(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}().curve(r),c={type:"path",className:o,classID:a,data:e};return i?(s.context(i),c.pathMethods=s):c.attrs={d:s(e)},c},Kc=function(t){var e=t.data,n=t.canvasContext,r={type:"path",className:t.className,classID:t.classID,data:e},i=function(){var t=vc,e=bc,n=dc(0),r=null,i=_c,o=xc,a=wc,s=null;function c(){var c,u,l=+t.apply(this,arguments),f=+e.apply(this,arguments),h=i.apply(this,arguments)-yc,d=o.apply(this,arguments)-yc,p=Math.abs(d-h),g=d>h;if(s||(s=c=hc()),f<l&&(u=f,f=l,l=u),f>pc)if(p>mc-pc)s.moveTo(f*Math.cos(h),f*Math.sin(h)),s.arc(0,0,f,h,d,!g),l>pc&&(s.moveTo(l*Math.cos(d),l*Math.sin(d)),s.arc(0,0,l,d,h,g));else{var y,m,v=h,b=d,_=h,x=d,w=p,$=p,k=a.apply(this,arguments)/2,M=k>pc&&(r?+r.apply(this,arguments):Math.sqrt(l*l+f*f)),N=Math.min(Math.abs(f-l)/2,+n.apply(this,arguments)),A=N,C=N;if(M>pc){var S=$c(M/l*Math.sin(k)),j=$c(M/f*Math.sin(k));(w-=2*S)>pc?(_+=S*=g?1:-1,x-=S):(w=0,_=x=(h+d)/2),($-=2*j)>pc?(v+=j*=g?1:-1,b-=j):($=0,v=b=(h+d)/2)}var E=f*Math.cos(v),T=f*Math.sin(v),O=l*Math.cos(x),P=l*Math.sin(x);if(N>pc){var q=f*Math.cos(b),z=f*Math.sin(b),R=l*Math.cos(_),I=l*Math.sin(_);if(p<gc){var B=w>pc?kc(E,T,R,I,q,z,O,P):[O,P],L=E-B[0],H=T-B[1],D=q-B[0],X=z-B[1],V=1/Math.sin(Math.acos((L*D+H*X)/(Math.sqrt(L*L+H*H)*Math.sqrt(D*D+X*X)))/2),Y=Math.sqrt(B[0]*B[0]+B[1]*B[1]);A=Math.min(N,(l-Y)/(V-1)),C=Math.min(N,(f-Y)/(V+1))}}$>pc?C>pc?(y=Mc(R,I,E,T,f,C,g),m=Mc(q,z,O,P,f,C,g),s.moveTo(y.cx+y.x01,y.cy+y.y01),C<N?s.arc(y.cx,y.cy,C,Math.atan2(y.y01,y.x01),Math.atan2(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,C,Math.atan2(y.y01,y.x01),Math.atan2(y.y11,y.x11),!g),s.arc(0,0,f,Math.atan2(y.cy+y.y11,y.cx+y.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),!g),s.arc(m.cx,m.cy,C,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!g))):(s.moveTo(E,T),s.arc(0,0,f,v,b,!g)):s.moveTo(E,T),l>pc&&w>pc?A>pc?(y=Mc(O,P,q,z,l,-A,g),m=Mc(E,T,R,I,l,-A,g),s.lineTo(y.cx+y.x01,y.cy+y.y01),A<N?s.arc(y.cx,y.cy,A,Math.atan2(y.y01,y.x01),Math.atan2(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,A,Math.atan2(y.y01,y.x01),Math.atan2(y.y11,y.x11),!g),s.arc(0,0,l,Math.atan2(y.cy+y.y11,y.cx+y.x11),Math.atan2(m.cy+m.y11,m.cx+m.x11),g),s.arc(m.cx,m.cy,A,Math.atan2(m.y11,m.x11),Math.atan2(m.y01,m.x01),!g))):s.arc(0,0,l,x,_,g):s.lineTo(O,P)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-gc/2;return[Math.cos(r)*n,Math.sin(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:dc(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:dc(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:dc(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:dc(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:dc(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:dc(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:dc(+t),c):a},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}().innerRadius(e.innerRadius||0).outerRadius(e.outerRadius||e.radius||2).startAngle(e.startAngle||0).endAngle(e.endAngle||2*Math.PI);return n?(i.context(n),r.pathMethods=lineGen):r.attrs={d:i()},r},tu=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.bbox,s=t.offset;"top"===(e=Uc(e,s.y))?o-=a.height:"middle"===e&&(o-=a.height/2);var c=[[r,o],[r,o+a.height]];return{components:[Qc({data:c,className:"note-line"})]}},eu=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,o=void 0===i?0:i,a=t.offset,s=t.bbox;"right"===(e=Gc(e,a.x))?r-=s.width:"middle"===e&&(r-=s.width/2);var c=[[r,o],[r+s.width,o]];return{components:[Qc({data:c,className:"note-line"})]}},nu=function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,o=r.x-i.x,a=o+r.dx,s=r.y-i.y,c=s+r.dy,u=r.subject;if("circle"===n&&(u.outerRadius||u.radius)){var l=Math.sqrt((o-a)*(o-a)+(s-c)*(s-c)),f=Math.asin(-c/l),h=u.outerRadius||u.radius+(u.radiusPadding||0);o=Math.abs(Math.cos(f)*h)*(a<0?-1:1),s=Math.abs(Math.sin(f)*h)*(c<0?-1:1)}if("rect"===n){var d=u.width,p=u.height;(d>0&&r.dx>0||d<0&&r.dx<0)&&(o=Math.abs(d)>Math.abs(r.dx)?d/2:d),(p>0&&r.dy>0||p<0&&r.dy<0)&&(s=Math.abs(p)>Math.abs(r.dy)?p/2:p),o===d/2&&s===p/2&&(o=a,s=c)}return[[o,s],[a,c]]},ru=function(t){var e=nu(t);return{components:[Qc({data:e,className:"connector"})]}},iu=function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,o=r.x-i.x,a=o+r.dx,s=r.y-i.y,c=s+r.dy,u=r.subject;if("rect"===n){var l=u.width,f=u.height;(l>0&&r.dx>0||l<0&&r.dx<0)&&(o=Math.abs(l)>Math.abs(r.dx)?l/2:l),(f>0&&r.dy>0||f<0&&r.dy<0)&&(s=Math.abs(f)>Math.abs(r.dy)?f/2:f),o===l/2&&s===f/2&&(o=a,s=c)}var h=[[o,s],[a,c]],d=c-s,p=a-o,g=a,y=c,m=c<s&&a>o||a<o&&c>s?-1:1;if(Math.abs(p)<Math.abs(d)?(g=a,y=s+p*m):(y=c,g=o+d*m),"circle"===n&&(u.outerRadius||u.radius)){var v=(u.outerRadius||u.radius)+(u.radiusPadding||0),b=v/Math.sqrt(2);if(Math.abs(p)>b&&Math.abs(d)>b)h=[[o=b*(a<0?-1:1),s=b*(c<0?-1:1)],[g,y],[a,c]];else if(Math.abs(p)>Math.abs(d)){var _=Math.asin(-c/v);h=[[o=Math.abs(Math.cos(_)*v)*(a<0?-1:1),c],[a,c]]}else{var x=Math.acos(a/v);h=[[a,s=Math.abs(Math.sin(x)*v)*(c<0?-1:1)],[a,c]]}}else h=[[o,s],[g,y],[a,c]];return{components:[Qc({data:h,className:"connector"})]}},ou=function(t){var e=t.type,n=t.connectorData,r=t.subjectType;n||(n={}),n.points&&"number"!=typeof n.points||(n.points=au(e.annotation.offset,n.points)),n.curve||(n.curve=Oc);var i=[];if(e.editMode){var o=n.points.map((function(t,e){return Dc({},function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy;return{move:{x:n,y:void 0===r?0:r}}}({cx:t[0],cy:t[1]}),{index:e})})),a=function(t){n.points[t][0]+=Cs.dx,n.points[t][1]+=Cs.dy,e.redrawConnector()};i=e.mapHandles(o.map((function(t){return Dc({},t.move,{drag:a.bind(e,t.index)})})))}var s=nu({type:e,subjectType:r});return s=[s[0]].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.points),[s[1]]),{components:[Qc({data:s,curve:n.curve,className:"connector"})],handles:i}},au=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n={x:t.x/(e+1),y:t.y/(e+1)},r=[],i=1;i<=e;i++)r.push([n.x*i+i%2*20,n.y*i-i%2*20]);return r},su=function(t){var e=t.annotation,n=t.start,r=t.end,i=t.scale,o=void 0===i?1:i,a=e.position;n=n?[-r[0]+n[0],-r[1]+n[1]]:[e.dx,e.dy],r||(r=[e.x-a.x,e.y-a.y]);var s=r[0],c=r[1],u=n[0],l=n[1],f=10*o,h=16/180*Math.PI,d=Math.atan(l/u);u<0&&(d+=Math.PI);var p=[[s,c],[Math.cos(d+h)*f+s,Math.sin(d+h)*f+c],[Math.cos(d-h)*f+s,Math.sin(d-h)*f+c],[s,c]];return{components:[Qc({data:p,className:"connector-end connector-arrow",classID:"connector-end"})]}},cu=function(t){var e=t.line,n=t.scale,r=void 0===n?1:n,i=Kc({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(r)}});return i.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[i]}},uu=function(t){var e=t.subjectData,n=t.type;e.radius||e.outerRadius||(e.radius=20);var r=[],i=Kc({data:e,className:"subject"});if(n.editMode){var o=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy,i=void 0===r?0:r,o=t.r1,a=t.r2,s=t.padding,c={move:{x:n,y:i}};return void 0!==o&&(c.r1={x:n+o/Math.sqrt(2),y:i+o/Math.sqrt(2)}),void 0!==a&&(c.r2={x:n+a/Math.sqrt(2),y:i+a/Math.sqrt(2)}),void 0!==s&&(c.padding={x:n+o+s,y:i}),c}({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:e.radiusPadding}),a=function(t){var r=e[t]+Cs.dx*Math.sqrt(2);e[t]=r,n.redrawSubject(),n.redrawConnector()},s=[Dc({},o.r1,{drag:a.bind(n,void 0!==e.outerRadius?"outerRadius":"radius")})];e.innerRadius&&s.push(Dc({},o.r2,{drag:a.bind(n,"innerRadius")})),r=n.mapHandles(s)}return i.attrs["fill-opacity"]=0,{components:[i],handles:r}},lu=function(t){var e=t.subjectData,n=t.type;e.width||(e.width=100),e.height||(e.height=100);var r=[],i=e.width,o=e.height,a=Qc({data:[[0,0],[i,0],[i,o],[0,o],[0,0]],className:"subject"});if(n.editMode){var s=[{x:i,y:o/2,drag:function(){e.width=Cs.x,n.redrawSubject(),n.redrawConnector()}.bind(n)},{x:i/2,y:o,drag:function(){e.height=Cs.y,n.redrawSubject(),n.redrawConnector()}.bind(n)}];r=n.mapHandles(s)}return a.attrs["fill-opacity"]=.1,{components:[a],handles:r}},fu=function(t){var e=t.subjectData,n=t.type.annotation.position,r=(void 0!==e.x1?e.x1:n.x)-n.x,i=(void 0!==e.x2?e.x2:n.x)-n.x,o=(void 0!==e.y1?e.y1:n.y)-n.y,a=(void 0!==e.y2?e.y2:n.y)-n.y;return{components:[Qc({data:[[r,o],[i,a]],className:"subject"})]}},hu=function(t){var e=t.subjectData,n=void 0===e?{}:e,r=t.type,i=void 0===r?{}:r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.typeSettings&&i.typeSettings.subject;n.radius||(a&&a.radius?n.radius=a.radius:n.radius=14),n.x||a&&a.x&&(n.x=a.x),n.y||a&&a.y&&(n.y=a.y);var s=[],c=[],u=n.radius,l=.7*u,f=0,h=0,d=Math.sqrt(2)*u,p={xleftcorner:-u,xrightcorner:u,ytopcorner:-u,ybottomcorner:u,xleft:-d,xright:d,ytop:-d,ybottom:d};n.x&&!n.y?f=p["x"+n.x]:n.y&&!n.x?h=p["y"+n.y]:n.x&&n.y&&(f=p["x"+n.x+"corner"],h=p["y"+n.y+"corner"]);var g="translate("+f+", "+h+")",y=Kc({className:"subject",data:{radius:u}});y.attrs.transform=g,y.attrs.fill=o.color,y.attrs["stroke-linecap"]="round",y.attrs["stroke-width"]="3px";var m=Kc({className:"subject-ring",data:{outerRadius:u,innerRadius:l}});m.attrs.transform=g,m.attrs["stroke-width"]="3px",m.attrs.fill="white";var v=void 0;if(f&&h||!f&&!h)v=Qc({className:"subject-pointer",data:[[0,0],[f||0,0],[0,h||0],[0,0]]});else if(f||h){var b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||e*u/Math.sqrt(2)};v=Qc({className:"subject-pointer",data:[[0,0],[b(f),b(h)],[b(f,-1),b(h,-1)],[0,0]]})}if(v&&(v.attrs.fill=o.color,v.attrs["stroke-linecap"]="round",v.attrs["stroke-width"]="3px",c.push(v)),i.editMode){var _=function(){n.x=Cs.x<2*-u?"left":Cs.x>2*u?"right":void 0,n.y=Cs.y<2*-u?"top":Cs.y>2*u?"bottom":void 0,i.redrawSubject()},x={x:2*f,y:2*h,drag:_.bind(i)};x.x||x.y||(x.y=-u),s=i.mapHandles([x])}var w=void 0;return n.text&&(w={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:n.text,"text-anchor":"middle",dy:".25em",x:f,y:h}}),c.push(y),c.push(m),c.push(w),{components:c,handles:s}},du=function(){function t(e){var n=e.a,r=e.annotation,i=e.editMode,o=e.dispatcher,a=e.notePadding,s=e.accessors;if(Lc(this,t),this.a=n,this.note=-1===r.disable.indexOf("note")&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=-1===r.disable.indexOf("connector")&&n.select("g.annotation-connector"),this.subject=-1===r.disable.indexOf("subject")&&n.select("g.annotation-subject"),this.dispatcher=o,o){var c=_u.bind(null,o,r);c({component:this.note,name:"note"}),c({component:this.connector,name:"connector"}),c({component:this.subject,name:"subject"})}this.annotation=r,this.editMode=r.editMode||i,this.notePadding=void 0!==a?a:3,this.offsetCornerX=0,this.offsetCornerY=0,s&&r.data&&this.init(s)}return Hc(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,e){var n=this;Array.isArray(e)||(e=[e]),e.filter((function(t){return t})).forEach((function(e){var r=e.type,i=e.className,o=e.attrs,a=e.handles,s=e.classID;if("handle"===r)!function(t){var e=t.group,n=t.handles,r=t.r,i=void 0===r?10:r,o=e.selectAll("circle.handle").data(n);o.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(ac().container(Ls("g.annotations").node()).on("start",(function(t){return t.start&&t.start(t)})).on("drag",(function(t){return t.drag&&t.drag(t)})).on("end",(function(t){return t.end&&t.end(t)}))),e.selectAll("circle.handle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",(function(t){return t.r||i})).attr("class",(function(t){return"handle "+(t.className||"")})),o.exit().remove()}({group:t,r:o&&o.r,handles:a});else{bu(t,[n.annotation],r,i,s);for(var c=t.select(r+"."+(s||i)),u=Object.keys(o),l=[],f=c.node().attributes,h=f.length-1;h>=0;h--){var d=f[h].name;-1===u.indexOf(d)&&"class"!==d&&l.push(d)}u.forEach((function(t){"text"===t?c.text(o[t]):c.attr(t,o[t])})),l.forEach((function(t){return c.attr(t,null)}))}}))}},{key:"getNoteBBox",value:function(){return wu(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=wu(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.subject,r=e.type,i={type:this,subjectData:n},o={};"circle"===r?o=uu(i):"rect"===r?o=lu(i):"threshold"===r?o=fu(i):"badge"===r&&(o=hu(i,this.annotation));var a=o,s=a.components,c=void 0===s?[]:s,u=a.handles,l=void 0===u?[]:u;return c.forEach((function(e){e&&e.attrs&&!e.attrs.stroke&&(e.attrs.stroke=t.annotation.color)})),this.editMode&&(l=l.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),c.push({type:"handle",handles:l})),c}},{key:"drawConnector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,r=n.type||e.type,i={type:this,connectorData:n};i.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var o="curve"===r?ou(i):"elbow"===r?iu(i):ru(i),a=o.components,s=void 0===a?[]:a,c=o.handles,u=void 0===c?[]:c,l=s[0];l&&(l.attrs.stroke=this.annotation.color,l.attrs.fill="none");var f=n.end||e.end,h={};if("arrow"===f){var d=l.data[1],p=l.data[0],g=Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2));g<5&&l.data[2]&&(d=l.data[2]),h=su({annotation:this.annotation,start:d,end:p,scale:n.endScale})}else"dot"===f?h=cu({line:l,scale:n.endScale}):f&&"none"!==f||this.connector&&this.connector.select(".connector-end").remove();return h.components&&(h.components.forEach((function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color})),s=s.concat(h.components)),this.editMode&&0!==u.length&&s.push({type:"handle",handles:u}),s}},{key:"drawNote",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.note,r=n.align||e.align||"dynamic",i={bbox:e.bbox,align:r,offset:this.annotation.offset},o=n.lineType||e.lineType,a={};"vertical"===o?a=tu(i):"horizontal"===o&&(a=eu(i));var s=a,c=s.components,u=void 0===c?[]:c,l=s.handles,f=void 0===l?[]:l;if(u.forEach((function(e){e.attrs.stroke=t.annotation.color})),this.editMode){f=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),u.push({type:"handle",handles:f});var h=this.dragNote.bind(this),d=this.dragstarted.bind(this),p=this.dragended.bind(this);this.note.call(ac().container(Ls("g.annotations").node()).on("start",(function(t){return d(t)})).on("drag",(function(t){return h(t)})).on("end",(function(t){return p(t)})))}else this.note.on("mousedown.drag",null);return u}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=void 0!==e.padding?e.padding:this.notePadding,r=e.orientation||t.orientation||"topBottom",i=e.lineType||t.lineType,o=e.align||t.align||"dynamic";"vertical"===i?r="leftRight":"horizontal"===i&&(r="topBottom");var a=function(t){var e=t.padding,n=void 0===e?0:e,r=t.bbox,i=void 0===r?{x:0,y:0,width:0,height:0}:r,o=t.align,a=t.orientation,s=t.offset,c=void 0===s?{x:0,y:0}:s,u=-i.x,l=0;return-1!==Zc.indexOf(a)?(o=Gc(o,c.x),c.y<0&&"topBottom"===a||"top"===a?l-=i.height+n:l+=n,"middle"===o?u-=i.width/2:"right"===o&&(u-=i.width)):-1!==Jc.indexOf(a)&&(o=Uc(o,c.y),c.x<0&&"leftRight"===a||"left"===a?u-=i.width+n:u+=n,"middle"===o?l-=i.height/2:"top"===o&&(l-=i.height)),{x:u,y:l}}({padding:n,bbox:t.bbox,offset:this.annotation.offset,orientation:r,align:o}),s=a.x,c=a.y;return this.offsetCornerX=s+this.annotation.dx,this.offsetCornerY=c+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+s+", "+c+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.attr("transform","translate("+t.x+", "+t.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){Cs.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=Cs.dx,t.y+=Cs.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=Cs.dx,t.y+=Cs.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var e=this;return t.map((function(t){return Dc({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})}))}}]),t}(),pu=function(t,e,n){return function(t){function r(t){Lc(this,r);var n=Yc(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach((function(t){n[t]&&n[t].remove(),n[t]=void 0,"note"===t&&(n.noteContent=void 0)})),n}return Vc(r,t),Hc(r,[{key:"className",value:function(){return""+(e.className||Xc(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this)&&Xc(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=Dc({},e.subject,this.typeSettings.subject),Xc(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawSubject",this).call(this,Dc({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=Dc({},e.connector,this.typeSettings.connector),Xc(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawConnector",this).call(this,Dc({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=Dc({},e.note,this.typeSettings.note),Xc(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNote",this).call(this,Dc({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return Xc(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNoteContent",this).call(this,Dc({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return Xc(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),r}(t)},gu=function(t){function e(t){Lc(this,e);var n=Yc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return Vc(e,t),Hc(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){bu(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");bu(t,[this.annotation],"rect","annotation-note-bg"),bu(t,[this.annotation],"text","annotation-note-label"),bu(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),r=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,i=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,o=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,a={top:0,bottom:0,left:0,right:0};if("number"==typeof o?a={top:o,bottom:o,left:o,right:o}:o&&"object"===(void 0===o?"undefined":Bc(o))&&(a=Dc(a,o)),this.annotation.note.title){var s=this.a.select("text.annotation-note-title");s.text(this.annotation.note.title),s.attr("fill",this.annotation.color),s.attr("font-weight","bold"),s.call(xu,r,i),e=s.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(xu,r,i),n.attr("y",1.1*e.height||0),n.attr("fill",this.annotation.color);var c=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",c.width+a.left+a.right).attr("height",c.height+a.top+a.bottom).attr("x",c.x-a.left).attr("y",-a.top).attr("fill","white").attr("fill-opacity",0)}}}]),e}(du);pu(gu,{className:"label",note:{align:"middle"}});var yu=pu(gu,{className:"callout",note:{lineType:"horizontal"}}),mu=pu(yu,{className:"callout elbow",connector:{type:"elbow"}});pu(yu,{className:"callout curve",connector:{type:"curve"}}),pu(du,{className:"badge",subject:{type:"badge"},disable:["connector","note"]});var vu=pu(gu,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}});pu(gu,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),pu(function(t){function e(){return Lc(this,e),Yc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Vc(e,t),Hc(e,[{key:"mapY",value:function(t){Xc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data)),!n.subject.x1&&!n.subject.x2||n.x||(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(t){Xc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data)),!n.subject.y1&&!n.subject.y2||n.y||(n.y=n.subject.y1||n.subject.y2)}}]),e}(yu),{className:"callout xythreshold",subject:{type:"threshold"}});var bu=function(t,e,n,r,i){var o=t.selectAll(n+"."+(i||r)).data(e);return o.enter().append(n).merge(o).attr("class",r),o.exit().remove(),t},_u=function(t,e,n){var r=n.component,i=n.name;r&&r.on("mouseover.annotations",(function(){t.call(i+"over",r,e)})).on("mouseout.annotations",(function(){return t.call(i+"out",r,e)})).on("click.annotations",(function(){return t.call(i+"click",r,e)}))},xu=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.2;t.each((function(){for(var t=Ls(this),i=t.text().split(n||/[ \t\r\n]+/).reverse().filter((function(t){return""!==t})),o=void 0,a=[],s=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");o=i.pop();)a.push(o),s.text(a.join(" ")),s.node().getComputedTextLength()>e&&a.length>1&&(a.pop(),s.text(a.join(" ")),a=[o],s=t.append("tspan").attr("x",0).attr("dy",r+"em").text(o))}))},wu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";return t?t.selectAll(e).nodes().reduce((function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var r=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(r&&parseFloat(r.value)||0)+n.height),t}),{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function $u(){var t=[],e=void 0,n=void 0,r=[],i={},o={},a=!1,s=void 0,c=yu,u=void 0,l=void 0,f=Fs("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),h=void 0,d=function(n){h=n,a||n.selectAll("circle.handle").remove();var d=t.map((function(t){return t.type||(t.type=c),t.disable||(t.disable=r),new Fc(t)}));e=e||new Wc({annotations:d,accessors:i,accessorsInverse:o,ids:s}),n.selectAll("g").data([e]).enter().append("g").attr("class","annotations");var p=n.select("g.annotations");bu(p,e.annotations,"g","annotation");var g=p.selectAll("g.annotation");g.each((function(t){var e=Ls(this);e.attr("class","annotation"),bu(e,[t],"g","annotation-connector"),bu(e,[t],"g","annotation-subject"),bu(e,[t],"g","annotation-note"),bu(e.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:e,annotation:t,textWrap:u,notePadding:l,editMode:a,dispatcher:f,accessors:i}),t.type.draw(),t.type.drawText&&t.type.drawText()}))};return d.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",e.json),window.copy(JSON.stringify(e.json.map((function(t){return delete t.type,t})))),d},d.update=function(){return t&&e&&(t=e.annotations.map((function(t){return t.type.draw(),t}))),d},d.updateText=function(){return e&&(e.updateText(u),t=e.annotations),d},d.updatedAccessors=function(){return e.setPositionWithAccessors(),t=e.annotations,d},d.disable=function(n){return arguments.length?(r=n,e&&(e.updateDisable(r),t=e.annotations),d):r},d.textWrap=function(n){return arguments.length?(u=n,e&&(e.updateTextWrap(u),t=e.annotations),d):u},d.notePadding=function(n){return arguments.length?(l=n,e&&(e.updateNotePadding(l),t=e.annotations),d):l},d.type=function(n,r){return arguments.length?(c=n,e&&(e.annotations.map((function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=c,t.subject=r&&r.subject||t.subject,t.connector=r&&r.connector||t.connector,t.note=r&&r.note||t.note})),t=e.annotations),d):c},d.annotations=function(n){if(!arguments.length)return e&&e.annotations||t;if(t=n,e&&e.annotations){var r=t.some((function(t){return!t.type||"[object Object]"!==t.type.toString()}));r?(e=null,d(h)):e.annotations=t}return d},d.context=function(t){return arguments.length?(n=t,d):n},d.accessors=function(t){return arguments.length?(i=t,d):i},d.accessorsInverse=function(t){return arguments.length?(o=t,d):o},d.ids=function(t){return arguments.length?(s=t,d):s},d.editMode=function(n){return arguments.length?(a=n,h&&h.selectAll("g.annotation").classed("editable",a),e&&(e.editMode(a),t=e.annotations),d):a},d.collection=function(t){return arguments.length?(e=t,d):e},d.on=function(){var t=f.on.apply(f,arguments);return t===f?d:t},d}function ku(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Mu(e){let n,r,i,o,a,s,c,u=e[8][0]+"";return{c(){n=$("circle"),r=$("text"),i=k("Years in"),o=$("text"),a=k("Congress"),s=$("text"),c=k(u),C(n,"cx",e[4]+e[10]*(Cu+Au)),C(n,"cy",e[3]),C(n,"r",Au),C(n,"fill",e[8][1]),C(r,"x",e[4]+e[10]*(Cu+Au)),C(r,"y",e[3]),C(r,"text-anchor","middle"),C(r,"font-size",8),C(r,"fill","white"),C(o,"x",e[4]+e[10]*(Cu+Au)),C(o,"y",e[3]+8),C(o,"text-anchor","middle"),C(o,"font-size",8),C(o,"fill","white"),C(s,"x",e[4]+(Au+Cu)*e[10]),C(s,"y",e[3]+2*Au),C(s,"text-anchor","middle"),C(s,"font-size",10)},m(t,e){b(t,n,e),b(t,r,e),v(r,i),b(t,o,e),v(o,a),b(t,s,e),v(s,c)},p:t,d(t){t&&_(n),t&&_(r),t&&_(o),t&&_(s)}}}function Nu(e){let n,r=e[0],i=[];for(let t=0;t<r.length;t+=1)i[t]=Mu(ku(e,r,t));return{c(){n=$("svg");for(let t=0;t<i.length;t+=1)i[t].c();C(n,"width",e[2]),C(n,"height",e[1])},m(t,e){b(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(25&e){let o;for(r=t[0],o=0;o<r.length;o+=1){const a=ku(t,r,o);i[o]?i[o].p(a,e):(i[o]=Mu(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&_(n),x(i,t)}}}let Au=20,Cu=100;function Su(t,e,n){let r,i;s(t,It,(t=>n(5,r=t))),s(t,Rt,(t=>n(6,i=t)));let o=[["Republican","red"],["Democrat","blue"],["Other","green"]],a=.2*r,c=.4*i;return[o,a,c,a/6,c/2-(Cu+Au)*(o.length-1)/2]}class ju extends $t{constructor(t){super(),wt(this,t,Su,Nu,a,{})}}function Eu(e){let n,r,o,a,s,c,u,l,f,h,d,p,g=e[0].data[e[1]]+"";return{c(){n=$("g"),r=$("circle"),u=$("text"),l=k(g),C(r,"cx",o=e[0].x),C(r,"cy",a=e[0].y),C(r,"r",s=e[0].r),C(r,"fill",c=e[2][e[0].data.party]?e[2][e[0].data.party]:"green"),C(r,"fill-opacity",".8"),C(u,"x",f=e[0].x),C(u,"y",h=e[0].y+.2*e[0].r),C(u,"text-anchor","middle"),C(u,"class","bubble-text svelte-1jktbz5")},m(t,i){b(t,n,i),v(n,r),v(n,u),v(u,l),d||(p=[A(n,"mouseover",e[3]),A(n,"mouseout",e[3]),A(n,"mousemove",e[3])],d=!0)},p(t,[e]){1&e&&o!==(o=t[0].x)&&C(r,"cx",o),1&e&&a!==(a=t[0].y)&&C(r,"cy",a),1&e&&s!==(s=t[0].r)&&C(r,"r",s),1&e&&c!==(c=t[2][t[0].data.party]?t[2][t[0].data.party]:"green")&&C(r,"fill",c),3&e&&g!==(g=t[0].data[t[1]]+"")&&E(l,g),1&e&&f!==(f=t[0].x)&&C(u,"x",f),1&e&&h!==(h=t[0].y+.2*t[0].r)&&C(u,"y",h)},i:t,o:t,d(t){t&&_(n),d=!1,i(p)}}}function Tu(t,e,n){let r,{d:i}=e,{displayVar:o}=e;const a=Y();return t.$$set=t=>{"d"in t&&n(0,i=t.d),"displayVar"in t&&n(1,o=t.displayVar)},t.$$.update=()=>{17&t.$$.dirty&&(n(4,r=i.data.official_full),void 0!==r&&"unknown"!==r||n(4,r=i.data.wikipedia))},[i,o,{Republican:"red",Democrat:"blue"},function(t){a(t.type,{text:"Hi there",event:t,data:i})},r]}class Ou extends $t{constructor(t){super(),wt(this,t,Tu,Eu,a,{d:0,displayVar:1})}}function Pu(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=zu(n,r,i,o,e[0],7,-680876936),o=zu(o,n,r,i,e[1],12,-389564586),i=zu(i,o,n,r,e[2],17,606105819),r=zu(r,i,o,n,e[3],22,-1044525330),n=zu(n,r,i,o,e[4],7,-176418897),o=zu(o,n,r,i,e[5],12,1200080426),i=zu(i,o,n,r,e[6],17,-1473231341),r=zu(r,i,o,n,e[7],22,-45705983),n=zu(n,r,i,o,e[8],7,1770035416),o=zu(o,n,r,i,e[9],12,-1958414417),i=zu(i,o,n,r,e[10],17,-42063),r=zu(r,i,o,n,e[11],22,-1990404162),n=zu(n,r,i,o,e[12],7,1804603682),o=zu(o,n,r,i,e[13],12,-40341101),i=zu(i,o,n,r,e[14],17,-1502002290),n=Ru(n,r=zu(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Ru(o,n,r,i,e[6],9,-1069501632),i=Ru(i,o,n,r,e[11],14,643717713),r=Ru(r,i,o,n,e[0],20,-373897302),n=Ru(n,r,i,o,e[5],5,-701558691),o=Ru(o,n,r,i,e[10],9,38016083),i=Ru(i,o,n,r,e[15],14,-660478335),r=Ru(r,i,o,n,e[4],20,-405537848),n=Ru(n,r,i,o,e[9],5,568446438),o=Ru(o,n,r,i,e[14],9,-1019803690),i=Ru(i,o,n,r,e[3],14,-187363961),r=Ru(r,i,o,n,e[8],20,1163531501),n=Ru(n,r,i,o,e[13],5,-1444681467),o=Ru(o,n,r,i,e[2],9,-51403784),i=Ru(i,o,n,r,e[7],14,1735328473),n=Iu(n,r=Ru(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Iu(o,n,r,i,e[8],11,-2022574463),i=Iu(i,o,n,r,e[11],16,1839030562),r=Iu(r,i,o,n,e[14],23,-35309556),n=Iu(n,r,i,o,e[1],4,-1530992060),o=Iu(o,n,r,i,e[4],11,1272893353),i=Iu(i,o,n,r,e[7],16,-155497632),r=Iu(r,i,o,n,e[10],23,-1094730640),n=Iu(n,r,i,o,e[13],4,681279174),o=Iu(o,n,r,i,e[0],11,-358537222),i=Iu(i,o,n,r,e[3],16,-722521979),r=Iu(r,i,o,n,e[6],23,76029189),n=Iu(n,r,i,o,e[9],4,-640364487),o=Iu(o,n,r,i,e[12],11,-421815835),i=Iu(i,o,n,r,e[15],16,530742520),n=Bu(n,r=Iu(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Bu(o,n,r,i,e[7],10,1126891415),i=Bu(i,o,n,r,e[14],15,-1416354905),r=Bu(r,i,o,n,e[5],21,-57434055),n=Bu(n,r,i,o,e[12],6,1700485571),o=Bu(o,n,r,i,e[3],10,-1894986606),i=Bu(i,o,n,r,e[10],15,-1051523),r=Bu(r,i,o,n,e[1],21,-2054922799),n=Bu(n,r,i,o,e[8],6,1873313359),o=Bu(o,n,r,i,e[15],10,-30611744),i=Bu(i,o,n,r,e[6],15,-1560198380),r=Bu(r,i,o,n,e[13],21,1309151649),n=Bu(n,r,i,o,e[4],6,-145523070),o=Bu(o,n,r,i,e[11],10,-1120210379),i=Bu(i,o,n,r,e[2],15,718787259),r=Bu(r,i,o,n,e[9],21,-343485551),t[0]=Vu(n,t[0]),t[1]=Vu(r,t[1]),t[2]=Vu(i,t[2]),t[3]=Vu(o,t[3])}function qu(t,e,n,r,i,o){return e=Vu(Vu(e,t),Vu(r,o)),Vu(e<<i|e>>>32-i,n)}function zu(t,e,n,r,i,o,a){return qu(e&n|~e&r,t,e,i,o,a)}function Ru(t,e,n,r,i,o,a){return qu(e&r|n&~r,t,e,i,o,a)}function Iu(t,e,n,r,i,o,a){return qu(e^n^r,t,e,i,o,a)}function Bu(t,e,n,r,i,o,a){return qu(n^(e|~r),t,e,i,o,a)}function Lu(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var Hu="0123456789abcdef".split("");function Du(t){for(var e="",n=0;n<4;n++)e+=Hu[t>>8*n+4&15]+Hu[t>>8*n&15];return e}function Xu(t){return function(t){for(var e=0;e<t.length;e++)t[e]=Du(t[e]);return t.join("")}(function(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Pu(r,Lu(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Pu(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Pu(r,i),r}(t))}function Vu(t,e){return t+e&4294967295}function Yu(t,e,n){const r=t.slice();return r[9]=e[n],r}function Fu(t){let e,n=console.log(t[12])+"";return{c(){e=k(n)},m(t,n){b(t,e,n)},p(t,r){16&r&&n!==(n=console.log(t[12])+"")&&E(e,n)},d(t){t&&_(e)}}}function Wu(t){let e,n,r;return{c(){e=w("img"),e.src!==(n=t[4])&&C(e,"src",n),C(e,"alt",r="image of "+t[3]),C(e,"width","100"),C(e,"height","100")},m(t,n){b(t,e,n)},p(t,i){16&i&&e.src!==(n=t[4])&&C(e,"src",n),8&i&&r!==(r="image of "+t[3])&&C(e,"alt",r)},d(t){t&&_(e)}}}function Uu(e){let n;return{c(){n=w("p"),n.textContent="Loading image"},m(t,e){b(t,n,e)},p:t,d(t){t&&_(n)}}}function Gu(t){let e,n=t[6],r=[];for(let e=0;e<n.length;e+=1)r[e]=Qu(Yu(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=N()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);b(t,e,n)},p(t,i){if(96&i){let o;for(n=t[6],o=0;o<n.length;o+=1){const a=Yu(t,n,o);r[o]?r[o].p(a,i):(r[o]=Qu(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){x(r,t),t&&_(e)}}}function Zu(e){let n,r,i,o,a,s,c=e[9][1]+"",u=e[5][e[9][0]]+"";return{c(){n=w("li"),r=w("strong"),i=k(c),o=k(":"),a=M(),s=k(u)},m(t,e){b(t,n,e),v(n,r),v(r,i),v(r,o),v(n,a),v(n,s)},p:t,d(t){t&&_(n)}}}function Ju(e){let n,r,i,o,a,s,c=e[9][1]+"",u=Math.round(100*e[5][e[9][0]])/100+"";return{c(){n=w("li"),r=w("strong"),i=k(c),o=k(":"),a=M(),s=k(u)},m(t,e){b(t,n,e),v(n,r),v(r,i),v(r,o),v(n,a),v(n,s)},p:t,d(t){t&&_(n)}}}function Qu(t){let e,n=void 0!==t[5][t[9][0]]&&function(t){let e,n=function(t,e){return"nominate_dim1"===t[9]?Ju:Zu}(t)(t);return{c(){n.c(),e=N()},m(t,r){n.m(t,r),b(t,e,r)},p(t,e){n.p(t,e)},d(t){n.d(t),t&&_(e)}}}(t);return{c(){n&&n.c(),e=N()},m(t,r){n&&n.m(t,r),b(t,e,r)},p(t,e){void 0!==t[5][t[9][0]]&&n.p(t,e)},d(t){n&&n.d(t),t&&_(e)}}}function Ku(e){let n,r,i,o,a,s,c,u,l,f,h,d,p,g,y,m,x,$,N,A,S,j,T,P,q,z,R,I,B,L,H,D,X,V,Y,F,W,U=e[5].year+"",G=e[5].age+"",Z=e[5].cumulative_time_sen_and_house+"",J=e[5].party+"",Q="sen"===e[5].type?"Senator":"Representative",K=e[5].state+"",tt={ctx:e,current:null,token:null,hasCatch:!0,pending:Uu,then:Wu,catch:Fu,value:4,error:12};pt(r=e[4],tt);let et=e[2]&&Gu(e);return{c(){n=w("div"),tt.block.c(),i=M(),o=w("h4"),a=k(e[3]),s=M(),c=w("ul"),u=w("li"),l=w("strong"),l.textContent="Year:",f=M(),h=k(U),d=M(),p=w("li"),g=w("strong"),g.textContent="Current Age:",y=M(),m=k(G),x=M(),$=w("li"),N=w("strong"),N.textContent="Total Time Served:",A=M(),S=k(Z),j=M(),T=w("li"),P=w("strong"),P.textContent="Party:",q=M(),z=k(J),R=M(),I=w("li"),B=w("strong"),B.textContent="Position:",L=M(),H=k(Q),D=M(),X=w("li"),V=w("strong"),V.textContent="State:",Y=M(),F=k(K),W=M(),et&&et.c(),C(c,"class","svelte-1r145ov"),O(n,"top",e[1]+"px"),O(n,"left",e[0]+"px"),C(n,"class","tooltip svelte-1r145ov")},m(t,e){b(t,n,e),tt.block.m(n,tt.anchor=null),tt.mount=()=>n,tt.anchor=i,v(n,i),v(n,o),v(o,a),v(n,s),v(n,c),v(c,u),v(u,l),v(u,f),v(u,h),v(c,d),v(c,p),v(p,g),v(p,y),v(p,m),v(c,x),v(c,$),v($,N),v($,A),v($,S),v(c,j),v(c,T),v(T,P),v(T,q),v(T,z),v(c,R),v(c,I),v(I,B),v(I,L),v(I,H),v(c,D),v(c,X),v(X,V),v(X,Y),v(X,F),v(c,W),et&&et.m(c,null)},p(t,[i]){if(e=t,tt.ctx=e,16&i&&r!==(r=e[4])&&pt(r,tt));else{const t=e.slice();t[4]=t[12]=tt.resolved,tt.block.p(t,i)}8&i&&E(a,e[3]),e[2]?et?et.p(e,i):(et=Gu(e),et.c(),et.m(c,null)):et&&(et.d(1),et=null),2&i&&O(n,"top",e[1]+"px"),1&i&&O(n,"left",e[0]+"px")},i:t,o:t,d(t){t&&_(n),tt.block.d(),tt.token=null,tt=null,et&&et.d()}}}function tl(t,e,n){let r,{message:i}=e,{x:o}=e,{y:a}=e,{otherFields:s=!1}=e,c=i.detail.data.data,u=c.official_full;void 0!==u&&"unknown"!==u||(u=c.wikipedia),r=function(){const t=`https://www.wikidata.org/w/api.php?action=wbgetclaims&property=P18&entity=${c.wikidata}&format=json&origin=*`;return fetch(t).then((t=>t.json())).then((t=>{const e=t.claims.P18[0].mainsnak.datavalue.value.replaceAll(" ","_"),n=Xu(e);return`https://upload.wikimedia.org/wikipedia/commons/${n[0]}/${n.slice(0,2)}/${e}`}))}();return t.$$set=t=>{"message"in t&&n(7,i=t.message),"x"in t&&n(0,o=t.x),"y"in t&&n(1,a=t.y),"otherFields"in t&&n(2,s=t.otherFields)},[o,a,s,u,r,c,[["nominate_dim1","Ideology Score"],["min_age","Age on Entering Congress"],["bills_introduced","# of Bills Introduced"],["bills_enacted_ti","# of Bills that Became Law"],["missed_votes","% of Votes Missed"],["committee_positions","# of Committee Positions"]],i]}Xu("hello");class el extends $t{constructor(t){super(),wt(this,t,tl,Ku,a,{message:7,x:0,y:1,otherFields:2})}}function nl(t,e,n){const r=t.slice();return r[27]=e[n],r[28]=e,r[29]=n,r}function rl(t){let e,n,r;function i(e){t[19](e,t[27],t[28],t[29])}let o={displayVar:al};return void 0!==t[27]&&(o.d=t[27]),e=new Ou({props:o}),W.push((()=>mt(e,"d",i))),e.$on("mouseover",t[7]),e.$on("mouseout",t[9]),e.$on("mousemove",t[8]),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),r=!0},p(r,i){t=r;const o={};!n&&64&i&&(n=!0,o.d=t[27],K((()=>n=!1))),e.$set(o)},i(t){r||(lt(e.$$.fragment,t),r=!0)},o(t){ft(e.$$.fragment,t),r=!1},d(t){_t(e,t)}}}function il(t){let e,n,r,i,o;function a(e){t[20](e)}function s(e){t[21](e)}function c(e){t[22](e)}let u={};return void 0!==t[4]&&(u.x=t[4]),void 0!==t[5]&&(u.y=t[5]),void 0!==t[3]&&(u.message=t[3]),e=new el({props:u}),W.push((()=>mt(e,"x",a))),W.push((()=>mt(e,"y",s))),W.push((()=>mt(e,"message",c))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),o=!0},p(t,o){const a={};!n&&16&o&&(n=!0,a.x=t[4],K((()=>n=!1))),!r&&32&o&&(r=!0,a.y=t[5],K((()=>r=!1))),!i&&8&o&&(i=!0,a.message=t[3],K((()=>i=!1))),e.$set(a)},i(t){o||(lt(e.$$.fragment,t),o=!0)},o(t){ft(e.$$.fragment,t),o=!1},d(t){_t(e,t)}}}function ol(t){let e,n,r,o,a,s,c,u,l,f,h,d,p,g,y,m,S,j,O,P,q=t[6],z=[];for(let e=0;e<q.length;e+=1)z[e]=rl(nl(t,q,e));const R=t=>ft(z[t],1,1,(()=>{z[t]=null}));y=new ju({});let I=t[2]&&il(t);return{c(){e=w("h3"),n=k("Distribution of experience in "),r=k(t[1]),o=M(),a=w("input"),s=M(),c=w("div"),u=$("svg"),l=$("g"),f=$("text"),h=k(t[1]),d=$("g");for(let t=0;t<z.length;t+=1)z[t].c();g=M(),vt(y.$$.fragment),m=M(),I&&I.c(),S=N(),C(a,"type","range"),C(a,"min","1790"),C(a,"max","2021"),C(f,"x",.25*t[10]),C(f,"y",.1*t[11]),C(f,"text-anchor","middle"),C(f,"font-size","24px"),C(u,"width",t[10]),C(u,"height",t[11])},m(i,p){b(i,e,p),v(e,n),v(e,r),b(i,o,p),b(i,a,p),T(a,t[1]),b(i,s,p),b(i,c,p),v(c,u),v(u,l),t[18](l),v(u,f),v(f,h),v(u,d);for(let t=0;t<z.length;t+=1)z[t].m(d,null);b(i,g,p),bt(y,i,p),b(i,m,p),I&&I.m(i,p),b(i,S,p),j=!0,O||(P=[A(a,"change",t[17]),A(a,"input",t[17])],O=!0)},p(t,[e]){if((!j||2&e)&&E(r,t[1]),2&e&&T(a,t[1]),(!j||2&e)&&E(h,t[1]),960&e){let n;for(q=t[6],n=0;n<q.length;n+=1){const r=nl(t,q,n);z[n]?(z[n].p(r,e),lt(z[n],1)):(z[n]=rl(r),z[n].c(),lt(z[n],1),z[n].m(d,null))}for(ct(),n=q.length;n<z.length;n+=1)R(n);ut()}t[2]?I?(I.p(t,e),4&e&&lt(I,1)):(I=il(t),I.c(),lt(I,1),I.m(S.parentNode,S)):I&&(ct(),ft(I,1,1,(()=>{I=null})),ut())},i(t){if(!j){for(let t=0;t<q.length;t+=1)lt(z[t]);Q((()=>{p||(p=dt(u,Pt,{},!0)),p.run(1)})),lt(y.$$.fragment,t),lt(I),j=!0}},o(t){z=z.filter(Boolean);for(let t=0;t<z.length;t+=1)ft(z[t]);p||(p=dt(u,Pt,{},!1)),p.run(0),ft(y.$$.fragment,t),ft(I),j=!1},d(n){n&&_(e),n&&_(o),n&&_(a),n&&_(s),n&&_(c),t[18](null),x(z,n),n&&p&&p.end(),n&&_(g),_t(y,n),n&&_(m),I&&I.d(n),n&&_(S),O=!1,i(P)}}}let al="cumulative_time_sen_and_house";function sl(t,e,n){let r,i,o,a,c,u,l,f;s(t,Rt,(t=>n(23,a=t))),s(t,It,(t=>n(24,c=t))),s(t,Ht,(t=>n(1,u=t))),s(t,Xt,(t=>n(15,l=t))),s(t,Dt,(t=>n(16,f=t)));let h,d,p,g,{data:y}=e,m=!1;const v=.6*a,b=.7*c;function _(t){let e,n=o.find((t=>"Bernard Sanders"===t.data.official_full));e=0===t?[{note:{label:"This bubble represents Senator Bernie Sanders. Hover for more information",bgPadding:10},x:n.x,y:n.y,className:"show-bg",dy:0,dx:v/3,color:"black",type:mu,connector:{end:"arrow",endscale:10},subject:{radius:n.r+10,radiusPadding:10}}]:[{note:{label:"Career politicians"},x:v/2,y:b/2,dy:-v/5,dx:v/5,type:vu,color:"black",subject:{radius:v/6,radiusPadding:10}}];const r=$u().notePadding(15).annotations(e);let i=0===t?"annotation-group":"callout";or(d).append("g").attr("class",i).style("background-color","rgba(230, 242, 255, 0.8)").style("border-radius","5px").style("stroke-width","2px").call(r)}return t.$$set=t=>{"data"in t&&n(12,y=t.data)},t.$$.update=()=>{4098&t.$$.dirty&&n(13,r=function(t,e,n){return t.congresses[e].sort(((t,e)=>t[al]<e[al]?1:-1))}(y,u)),8192&t.$$.dirty&&n(14,i=function(){var t=null,e=1,n=1,r=ca;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(fa(t)).eachAfter(ha(r,.5)).eachBefore(da(1)):i.eachBefore(fa(la)).eachAfter(ha(ca,1)).eachAfter(ha(r,i.r/Math.min(e,n))).eachBefore(da(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=sa(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:ua(+t),i):r},i}().size([v-2,b-2]).padding(1)(Do({children:r}).sum((t=>t[al])).sort())),16384&t.$$.dirty&&n(6,o=i.leaves()),32769&t.$$.dirty&&(l?_(1):or(d).selectAll(".callout").transition().duration(2e3).style("fill-opacity",0).style("stroke-opacity",0).remove()),65537&t.$$.dirty&&(f?_(0):or(d).selectAll(".annotation-group").transition().duration(2e3).style("fill-opacity",0).style("stroke-opacity",0).remove())},[d,u,m,h,p,g,o,function(t){Dt.set(!1),n(3,h=t),n(2,m=!0),n(4,p=t.detail.event.clientX),n(5,g=t.detail.event.clientY),g>.5*b&&n(5,g-=.3*b)},function(t){n(4,p=t.detail.event.clientX),n(5,g=t.detail.event.clientY),g>.5*b&&n(5,g-=.3*b)},function(){n(2,m=!1)},v,b,y,r,i,l,f,function(){u=j(this.value),Ht.set(u)},function(t){W[t?"unshift":"push"]((()=>{d=t,n(0,d)}))},function(t,e,a,s){a[s]=t,n(6,o),n(14,i),n(13,r),n(12,y),n(1,u)},function(t){p=t,n(4,p)},function(t){g=t,n(5,g)},function(t){h=t,n(3,h)}]}class cl extends $t{constructor(t){super(),wt(this,t,sl,ol,a,{data:12})}}function ul(t){let e,n,r,i,o;return i=new cl({props:{data:t[0]}}),{c(){e=w("div"),n=w("h2"),n.textContent="Congress Sized According to Years Spent in Congress",r=M(),vt(i.$$.fragment),C(e,"slot","background")},m(t,a){b(t,e,a),v(e,n),v(e,r),bt(i,e,null),o=!0},p(t,e){const n={};1&e&&(n.data=t[0]),i.$set(n)},i(t){o||(lt(i.$$.fragment,t),o=!0)},o(t){ft(i.$$.fragment,t),o=!1},d(t){t&&_(e),_t(i)}}}function ll(t){let e;return{c(){e=w("div"),e.innerHTML='<section class="story-part">This chart represents the distribution of experience in the current Congress. <i>Each circle represents a member of Congress</i></section> \n         <section class="story-part">The majority of the 535 members of Congress have little experience.\n            A few members, the \n            <span class="emphasize">career politicians</span>, have served \n            <span class="emphasize">over 25 years.</span></section> \n        \n         <section class="story-part"><i>Is today&#39;s distribution an anomaly?</i>  \n            \n            <br/><br/>\n            Compared to past Congresses, term lengths are longer. \n            Still, current Congress does not appear to have a greater concentration of career politicians.</section> \n\n         <section class="story-part"><span class="direction">Explore for yourself. Move the slider to view different the experience distributions of historical Congresses.</span></section>         \n\n        <section class="blank-story-part"></section>',C(e,"slot","foreground"),C(e,"class","foreground")},m(t,n){b(t,e,n)},d(t){t&&_(e)}}}function fl(t){let e,n,r,i;function o(e){t[7](e)}function a(e){t[8](e)}let s={$$slots:{foreground:[ll],background:[ul]},$$scope:{ctx:t}};return void 0!==t[1]&&(s.index=t[1]),void 0!==t[2]&&(s.progress=t[2]),e=new Ot({props:s}),W.push((()=>mt(e,"index",o))),W.push((()=>mt(e,"progress",a))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),i=!0},p(t,[i]){const o={};4097&i&&(o.$$scope={dirty:i,ctx:t}),!n&&2&i&&(n=!0,o.index=t[1],K((()=>n=!1))),!r&&4&i&&(r=!0,o.progress=t[2],K((()=>r=!1))),e.$set(o)},i(t){i||(lt(e.$$.fragment,t),i=!0)},o(t){ft(e.$$.fragment,t),i=!1},d(t){_t(e,t)}}}function hl(t,e,n){let r;s(t,Lt,(t=>n(6,r=t)));let i,o,{data:a}=e,c=!1,u=0;const l=[1850,1916,1940,1988,2021];let f;return Ht.subscribe((t=>{l.includes(t)||(n(3,c=!0),clearInterval(f))})),t.$$set=t=>{"data"in t&&n(0,a=t.data)},t.$$.update=()=>{if(68&t.$$.dirty&&(n(2,o),n(6,r),r&&Bt.set("bubbleplot")),58&t.$$.dirty)switch(i){case 0:Ht.set(2021),Xt.set(!1);break;case 1:Ht.set(2021),clearInterval(f),Dt.set(!1),Xt.set(!0);break;case 2:Xt.set(!1),clearInterval(f),c||n(5,f=setInterval((()=>{n(4,u=(u+1)%l.length),Ht.set(l[u])}),1e3))}},[a,i,o,c,u,f,r,function(t){i=t,n(1,i)},function(t){o=t,n(2,o),n(6,r)}]}class dl extends $t{constructor(t){super(),wt(this,t,hl,fl,a,{data:0})}}function pl(e){let n;return{c(){n=$("g"),C(n,"class","axis"),C(n,"transform",e[1])},m(t,r){b(t,n,r),e[7](n)},p(t,[e]){2&e&&C(n,"transform",t[1])},i:t,o:t,d(t){t&&_(n),e[7](null)}}}function gl(t,e,n){let r,i,{width:o}=e,{height:a}=e,{margin:s}=e,{position:c}=e,{scale:u}=e;return t.$$set=t=>{"width"in t&&n(2,o=t.width),"height"in t&&n(3,a=t.height),"margin"in t&&n(4,s=t.margin),"position"in t&&n(5,c=t.position),"scale"in t&&n(6,u=t.scale)},t.$$.update=()=>{if(121&t.$$.dirty){let t;switch(or(i).selectAll("*").remove(),c){case"bottom":t=Re(u).tickSizeOuter(0),n(1,r=`translate(0, ${a-s})`);break;case"bottom-date":t=Re(u).tickSizeOuter(0).tickFormat(zo("d")),n(1,r=`translate(0, ${a-s})`);break;case"left":t=Ie(u).tickSizeOuter(0),n(1,r=`translate(${s}, 0)`)}or(i).call(t)}},[i,r,o,a,s,c,u,function(t){W[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class yl extends $t{constructor(t){super(),wt(this,t,gl,pl,a,{width:2,height:3,margin:4,position:5,scale:6})}}function ml(e){let n,r,o,a;return{c(){n=$("circle"),C(n,"r","3"),C(n,"cx",30*(Math.random()-.5)),C(n,"cy",r=e[1](e[0].y)),C(n,"fill","black")},m(t,r){b(t,n,r),o||(a=[A(n,"mouseover",e[2]),A(n,"mouseout",e[2]),A(n,"mousemove",e[2])],o=!0)},p(t,[e]){3&e&&r!==(r=t[1](t[0].y))&&C(n,"cy",r)},i:t,o:t,d(t){t&&_(n),o=!1,i(a)}}}function vl(t,e,n){let r,{d:i}=e,{x:o}=e,{y:a}=e;const s=Y();return t.$$set=t=>{"d"in t&&n(0,i=t.d),"x"in t&&n(3,o=t.x),"y"in t&&n(1,a=t.y)},t.$$.update=()=>{17&t.$$.dirty&&(n(4,r=i.data.official_full),void 0!==r&&"unknown"!==r||n(4,r=i.data.wikipedia))},[i,a,function(t){s(t.type,{text:"I am outlier",event:t,data:i})},o,r]}class bl extends $t{constructor(t){super(),wt(this,t,vl,ml,a,{d:0,x:3,y:1})}}function _l(t){let e,n,r,o,a,s,c,u,l,f,h,d,p,g;return{c(){e=$("path"),o=M(),a=$("path"),u=M(),l=$("path"),C(e,"stroke","currentColor"),C(e,"d",n=t[1](t[0])),C(a,"fill","#ddd"),C(a,"d",s=t[2](t[0])),C(l,"stroke","currentColor"),C(l,"d",f=t[3](t[0]))},m(n,r){b(n,e,r),b(n,o,r),b(n,a,r),b(n,u,r),b(n,l,r),d=!0,p||(g=[A(a,"mouseover",t[4]),A(a,"mouseout",t[4]),A(a,"mousemove",t[4]),A(a,"click",t[4])],p=!0)},p(t,[r]){(!d||1&r&&n!==(n=t[1](t[0])))&&C(e,"d",n),(!d||1&r&&s!==(s=t[2](t[0])))&&C(a,"d",s),(!d||1&r&&f!==(f=t[3](t[0])))&&C(l,"d",f)},i(t){d||(Q((()=>{r||(r=dt(e,Pt,{duration:1e3},!0)),r.run(1)})),Q((()=>{c||(c=dt(a,Pt,{duration:1e3},!0)),c.run(1)})),Q((()=>{h||(h=dt(l,Pt,{duration:1e3},!0)),h.run(1)})),d=!0)},o(t){r||(r=dt(e,Pt,{duration:1e3},!1)),r.run(0),c||(c=dt(a,Pt,{duration:1e3},!1)),c.run(0),h||(h=dt(l,Pt,{duration:1e3},!1)),h.run(0),d=!1},d(t){t&&_(e),t&&r&&r.end(),t&&_(o),t&&_(a),t&&c&&c.end(),t&&_(u),t&&_(l),t&&h&&h.end(),p=!1,i(g)}}}function xl(t,e,n){let{b:r}=e,{x:i}=e,{y:o}=e;const a=Y();return t.$$set=t=>{"b"in t&&n(0,r=t.b),"x"in t&&n(5,i=t.x),"y"in t&&n(6,o=t.y)},[r,function(t){return`\n        M${i((t.x0+t.x1)/2)},${o(t.range[1])}\n        V${o(t.range[0])}`},function(t){return`\n        M${i(t.x0)+1},${o(t.quartiles[2])}\n        H${i(t.x1)}\n        V${o(t.quartiles[0])}\n        H${i(t.x0)+1}\n        Z`},function(t){return`\n        M${i(t.x0)+1},${o(t.quartiles[1])}\n        H${i(t.x1)}`},function(t){a(t.type,{text:"I am box",event:t,data:r})},i,o]}class wl extends $t{constructor(t){super(),wt(this,t,xl,_l,a,{b:0,x:5,y:6})}}function $l(e){let n,r,i,o,a,s,c,u,l,f,h,d,p,g,y,m,x;return{c(){n=w("div"),r=w("h4"),i=k("Summary of "),o=k(e[2]),a=M(),s=w("h4"),s.textContent=`${e[3].x0} - ${e[3].x1}`,c=M(),u=w("ul"),l=w("li"),l.textContent=`Min: ${e[3].absRange[0]}`,f=M(),h=w("li"),h.textContent=`25%: ${e[3].quartiles[0]}`,d=M(),p=w("li"),p.textContent=`50%: ${e[3].quartiles[1]}`,g=M(),y=w("li"),y.textContent=`75%: ${e[3].quartiles[2]}`,m=M(),x=w("li"),x.textContent=`Max: ${e[3].absRange[1]}`,O(n,"top",e[1]+"px"),O(n,"left",e[0]+"px"),C(n,"class","tooltip svelte-5jekx0")},m(t,e){b(t,n,e),v(n,r),v(r,i),v(r,o),v(n,a),v(n,s),v(n,c),v(n,u),v(u,l),v(u,f),v(u,h),v(u,d),v(u,p),v(u,g),v(u,y),v(u,m),v(u,x)},p(t,[e]){4&e&&E(o,t[2]),2&e&&O(n,"top",t[1]+"px"),1&e&&O(n,"left",t[0]+"px")},i:t,o:t,d(t){t&&_(n)}}}function kl(t,e,n){let{message:r}=e,{xTool:i}=e,{yTool:o}=e,{label:a}=e,s=r.detail.data;return t.$$set=t=>{"message"in t&&n(4,r=t.message),"xTool"in t&&n(0,i=t.xTool),"yTool"in t&&n(1,o=t.yTool),"label"in t&&n(2,a=t.label)},[i,o,a,s,r]}class Ml extends $t{constructor(t){super(),wt(this,t,kl,$l,a,{message:4,xTool:0,yTool:1,label:2})}}const Nl=[[1880,39.41],[1890,45.209999],[1901,49.299999],[1905,50.299999],[1910,51.799999],[1915,55.099998],[1920,55.400002],[1925,58.5],[1930,59.599998],[1935,60.889999],[1940,63.23],[1945,65.580002],[1950,68.202],[1955,69.263],[1960,69.94],[1965,70.188],[1970,70.777],[1975,72.333],[1980,73.91],[1985,74.662],[1990,75.246],[1995,76.062],[2e3,76.812],[2005,77.685],[2010,78.652],[2015,78.91],[2019,78.862]];function Al(t,e,n){const r=t.slice();return r[42]=e[n],r}function Cl(t,e,n){const r=t.slice();return r[45]=e[n],r}function Sl(t){let e,n;return e=new bl({props:{x:t[0],y:t[1],d:t[45]}}),e.$on("mouseover",t[17]),e.$on("mouseout",t[19]),e.$on("mousemove",t[18]),{c(){vt(e.$$.fragment)},m(t,r){bt(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.x=t[0]),2&n[0]&&(r.y=t[1]),32&n[0]&&(r.d=t[45]),e.$set(r)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ft(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function jl(t,e){let n,r,i,o,a,s;r=new wl({props:{b:e[42],x:e[0],y:e[1]}}),r.$on("mouseover",e[17]),r.$on("mouseout",e[19]),r.$on("mousemove",e[18]),r.$on("click",Il);let c=e[42].outliers,u=[];for(let t=0;t<c.length;t+=1)u[t]=Sl(Cl(e,c,t));const l=t=>ft(u[t],1,1,(()=>{u[t]=null}));return{key:t,first:null,c(){n=$("g"),vt(r.$$.fragment),i=$("g");for(let t=0;t<u.length;t+=1)u[t].c();C(i,"fill","#888"),C(i,"fill-opacity",".5"),C(i,"stroke","none"),C(i,"transform",o=`translate(${e[0]((e[42].x0+e[42].x1)/2)}, 0)`),this.first=n},m(t,e){b(t,n,e),bt(r,n,null),v(n,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null);s=!0},p(t,n){e=t;const a={};if(32&n[0]&&(a.b=e[42]),1&n[0]&&(a.x=e[0]),2&n[0]&&(a.y=e[1]),r.$set(a),917539&n[0]){let t;for(c=e[42].outliers,t=0;t<c.length;t+=1){const r=Cl(e,c,t);u[t]?(u[t].p(r,n),lt(u[t],1)):(u[t]=Sl(r),u[t].c(),lt(u[t],1),u[t].m(i,null))}for(ct(),t=c.length;t<u.length;t+=1)l(t);ut()}(!s||33&n[0]&&o!==(o=`translate(${e[0]((e[42].x0+e[42].x1)/2)}, 0)`))&&C(i,"transform",o)},i(t){if(!s){lt(r.$$.fragment,t);for(let t=0;t<c.length;t+=1)lt(u[t]);Q((()=>{a||(a=dt(i,Pt,{duration:1e3},!0)),a.run(1)})),s=!0}},o(t){ft(r.$$.fragment,t),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)ft(u[t]);a||(a=dt(i,Pt,{duration:1e3},!1)),a.run(0),s=!1},d(t){t&&_(n),_t(r),x(u,t),t&&a&&a.end()}}}function El(t){let e,n,r;return{c(){e=$("path"),C(e,"d",t[6]),C(e,"stroke","blue"),C(e,"fill","none")},m(t,n){b(t,e,n),r=!0},p(t,n){(!r||64&n[0])&&C(e,"d",t[6])},i(t){r||(Q((()=>{n||(n=dt(e,Pt,{duration:1e3},!0)),n.run(1)})),r=!0)},o(t){n||(n=dt(e,Pt,{duration:1e3},!1)),n.run(0),r=!1},d(t){t&&_(e),t&&n&&n.end()}}}function Tl(t){let e,n,r,i;const o=[Pl,Ol],a=[];function s(t,e){return"age"===t[3]||"min_age"===t[3]?0:1}return e=s(t),n=a[e]=o[e](t),{c(){n.c(),r=N()},m(t,n){a[e].m(t,n),b(t,r,n),i=!0},p(t,i){let c=e;e=s(t),e!==c&&(ct(),ft(a[c],1,1,(()=>{a[c]=null})),ut(),n=a[e],n||(n=a[e]=o[e](t),n.c()),lt(n,1),n.m(r.parentNode,r))},i(t){i||(lt(n),i=!0)},o(t){ft(n),i=!1},d(t){a[e].d(t),t&&_(r)}}}function Ol(t){let e,n,r;return{c(){e=w("p"),e.innerHTML="Showing <strong>adjusted</strong> life expectancy in blue",C(e,"class","svelte-qs7753")},m(t,n){b(t,e,n),r=!0},i(t){r||(Q((()=>{n||(n=dt(e,Pt,{duration:1e3},!0)),n.run(1)})),r=!0)},o(t){n||(n=dt(e,Pt,{duration:1e3},!1)),n.run(0),r=!1},d(t){t&&_(e),t&&n&&n.end()}}}function Pl(t){let e,n,r;return{c(){e=w("p"),e.textContent="Showing life expectancy in blue",C(e,"class","svelte-qs7753")},m(t,n){b(t,e,n),r=!0},i(t){r||(Q((()=>{n||(n=dt(e,Pt,{duration:1e3},!0)),n.run(1)})),r=!0)},o(t){n||(n=dt(e,Pt,{duration:1e3},!1)),n.run(0),r=!1},d(t){t&&_(e),t&&n&&n.end()}}}function ql(t){let e,n,r,i,o;function a(e){t[31](e)}function s(e){t[32](e)}function c(e){t[33](e)}let u={};return void 0!==t[10]&&(u.x=t[10]),void 0!==t[11]&&(u.y=t[11]),void 0!==t[9]&&(u.message=t[9]),e=new el({props:u}),W.push((()=>mt(e,"x",a))),W.push((()=>mt(e,"y",s))),W.push((()=>mt(e,"message",c))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),o=!0},p(t,o){const a={};!n&&1024&o[0]&&(n=!0,a.x=t[10],K((()=>n=!1))),!r&&2048&o[0]&&(r=!0,a.y=t[11],K((()=>r=!1))),!i&&512&o[0]&&(i=!0,a.message=t[9],K((()=>i=!1))),e.$set(a)},i(t){o||(lt(e.$$.fragment,t),o=!0)},o(t){ft(e.$$.fragment,t),o=!1},d(t){_t(e,t)}}}function zl(t){let e,n,r,i,o;function a(e){t[34](e)}function s(e){t[35](e)}function c(e){t[36](e)}let u={label:t[13][t[3]]};return void 0!==t[10]&&(u.xTool=t[10]),void 0!==t[11]&&(u.yTool=t[11]),void 0!==t[9]&&(u.message=t[9]),e=new Ml({props:u}),W.push((()=>mt(e,"xTool",a))),W.push((()=>mt(e,"yTool",s))),W.push((()=>mt(e,"message",c))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),o=!0},p(t,o){const a={};8&o[0]&&(a.label=t[13][t[3]]),!n&&1024&o[0]&&(n=!0,a.xTool=t[10],K((()=>n=!1))),!r&&2048&o[0]&&(r=!0,a.yTool=t[11],K((()=>r=!1))),!i&&512&o[0]&&(i=!0,a.message=t[9],K((()=>i=!1))),e.$set(a)},i(t){o||(lt(e.$$.fragment,t),o=!0)},o(t){ft(e.$$.fragment,t),o=!1},d(t){_t(e,t)}}}function Rl(t){let e,n,r,o,a,s,c,u,l,f,h,d,p,g,y,m,x,S,j,T,O,P,q,z,R,I,B,L,H,D,X,V,Y,F,W,U,G,Z,J,Q,K,tt,et,nt,rt,it,ot,at,st,ht,dt,pt=t[13][t[3]]+"",gt=t[13][t[3]]+"",mt=[],xt=new Map;Z=new yl({props:{width:t[15],height:t[16],margin:t[14].bottom,scale:t[0],position:"bottom-date"}}),K=new yl({props:{width:t[15],height:t[16],margin:t[14].left,scale:t[1],position:"left"}});let wt=t[5];const $t=t=>t[42].id;for(let e=0;e<wt.length;e+=1){let n=Al(t,wt,e),r=$t(n);xt.set(r,mt[e]=jl(r,n))}let kt=t[12]&&El(t),Mt=t[12]&&Tl(t),Nt=t[8]&&ql(t),At=t[7]&&zl(t);return{c(){e=w("div"),n=w("h2"),r=k(pt),o=k(" In Congress Over Time"),a=M(),s=w("form"),c=w("label"),u=w("input"),l=k("\n      Time in Congress"),f=M(),h=w("label"),d=w("input"),p=k("\n      Age"),g=M(),y=w("label"),m=w("input"),x=k("\n      Age at Career Start"),S=M(),j=w("form"),T=w("label"),O=w("input"),P=k("\n        Both"),q=M(),z=w("label"),R=w("input"),I=k("\n        Senate"),B=M(),L=w("label"),H=w("input"),D=k("\n        House"),X=M(),V=w("form"),Y=w("label"),F=w("input"),W=k("\n      Overlay life expectancy"),U=M(),G=$("svg"),vt(Z.$$.fragment),J=$("text"),Q=k("Year"),vt(K.$$.fragment),tt=$("text"),et=k(gt);for(let t=0;t<mt.length;t+=1)mt[t].c();nt=N(),kt&&kt.c(),rt=M(),Mt&&Mt.c(),it=M(),Nt&&Nt.c(),ot=M(),At&&At.c(),at=N(),C(u,"type","radio"),u.__value="cumulative_time_sen_and_house",u.value=u.__value,t[23][0].push(u),C(c,"class","svelte-qs7753"),C(d,"type","radio"),d.__value="age",d.value=d.__value,t[23][0].push(d),C(h,"class","svelte-qs7753"),C(m,"type","radio"),m.__value="min_age",m.value=m.__value,t[23][0].push(m),C(y,"class","svelte-qs7753"),C(s,"class","radio-inline"),C(O,"type","radio"),O.__value="both",O.value=O.__value,t[23][1].push(O),C(T,"class","svelte-qs7753"),C(R,"type","radio"),R.__value="sen",R.value=R.__value,t[23][1].push(R),C(z,"class","svelte-qs7753"),C(H,"type","radio"),H.__value="rep",H.value=H.__value,t[23][1].push(H),C(L,"class","svelte-qs7753"),C(F,"type","checkbox"),C(Y,"class","svelte-qs7753"),C(J,"text-anchor","middle"),C(J,"x",t[15]/2),C(J,"y",t[16]-t[14].bottom/3),C(J,"fill","black"),C(J,"class","svelte-qs7753"),C(tt,"text-anchor","middle"),C(tt,"fill","black"),C(tt,"transform",`translate(${t[14].left/3}, ${t[16]/2}) rotate(270)`),C(tt,"class","svelte-qs7753"),C(G,"width",t[15]),C(G,"height",t[16])},m(i,_){b(i,e,_),v(e,n),v(n,r),v(n,o),v(e,a),v(e,s),v(s,c),v(c,u),u.checked=u.__value===t[3],v(c,l),v(s,f),v(s,h),v(h,d),d.checked=d.__value===t[3],v(h,p),v(s,g),v(s,y),v(y,m),m.checked=m.__value===t[3],v(y,x),v(e,S),v(e,j),v(j,T),v(T,O),O.checked=O.__value===t[4],v(T,P),v(j,q),v(j,z),v(z,R),R.checked=R.__value===t[4],v(z,I),v(j,B),v(j,L),v(L,H),H.checked=H.__value===t[4],v(L,D),v(e,X),v(e,V),v(V,Y),v(Y,F),F.checked=t[12],v(Y,W),v(e,U),v(e,G),bt(Z,G,null),v(G,J),v(J,Q),bt(K,G,null),v(G,tt),v(tt,et);for(let t=0;t<mt.length;t+=1)mt[t].m(G,null);v(G,nt),kt&&kt.m(G,null),t[30](G),v(e,rt),Mt&&Mt.m(e,null),b(i,it,_),Nt&&Nt.m(i,_),b(i,ot,_),At&&At.m(i,_),b(i,at,_),st=!0,ht||(dt=[A(u,"change",t[22]),A(d,"change",t[24]),A(m,"change",t[25]),A(O,"change",t[26]),A(R,"change",t[27]),A(H,"change",t[28]),A(F,"change",t[29])],ht=!0)},p(t,n){(!st||8&n[0])&&pt!==(pt=t[13][t[3]]+"")&&E(r,pt),8&n[0]&&(u.checked=u.__value===t[3]),8&n[0]&&(d.checked=d.__value===t[3]),8&n[0]&&(m.checked=m.__value===t[3]),16&n[0]&&(O.checked=O.__value===t[4]),16&n[0]&&(R.checked=R.__value===t[4]),16&n[0]&&(H.checked=H.__value===t[4]),4096&n[0]&&(F.checked=t[12]);const i={};1&n[0]&&(i.scale=t[0]),Z.$set(i);const o={};2&n[0]&&(o.scale=t[1]),K.$set(o),(!st||8&n[0])&&gt!==(gt=t[13][t[3]]+"")&&E(et,gt),917539&n[0]&&(wt=t[5],ct(),mt=function(t,e,n,r,i,o,a,s,c,u,l,f){let h=t.length,d=o.length,p=h;const g={};for(;p--;)g[t[p].key]=p;const y=[],m=new Map,v=new Map;for(p=d;p--;){const t=f(i,o,p),s=n(t);let c=a.get(s);c?r&&c.p(t,e):(c=u(s,t),c.c()),m.set(s,y[p]=c),s in g&&v.set(s,Math.abs(p-g[s]))}const b=new Set,_=new Set;function x(t){lt(t,1),t.m(s,l),a.set(t.key,t),l=t.first,d--}for(;h&&d;){const e=y[d-1],n=t[h-1],r=e.key,i=n.key;e===n?(l=e.first,h--,d--):m.has(i)?!a.has(r)||b.has(r)?x(e):_.has(i)?h--:v.get(r)>v.get(i)?(_.add(r),x(e)):(b.add(i),h--):(c(n,a),h--)}for(;h--;){const e=t[h];m.has(e.key)||c(e,a)}for(;d;)x(y[d-1]);return y}(mt,n,$t,1,t,wt,xt,G,yt,jl,nt,Al),ut()),t[12]?kt?(kt.p(t,n),4096&n[0]&&lt(kt,1)):(kt=El(t),kt.c(),lt(kt,1),kt.m(G,null)):kt&&(ct(),ft(kt,1,1,(()=>{kt=null})),ut()),t[12]?Mt?(Mt.p(t,n),4096&n[0]&&lt(Mt,1)):(Mt=Tl(t),Mt.c(),lt(Mt,1),Mt.m(e,null)):Mt&&(ct(),ft(Mt,1,1,(()=>{Mt=null})),ut()),t[8]?Nt?(Nt.p(t,n),256&n[0]&&lt(Nt,1)):(Nt=ql(t),Nt.c(),lt(Nt,1),Nt.m(ot.parentNode,ot)):Nt&&(ct(),ft(Nt,1,1,(()=>{Nt=null})),ut()),t[7]?At?(At.p(t,n),128&n[0]&&lt(At,1)):(At=zl(t),At.c(),lt(At,1),At.m(at.parentNode,at)):At&&(ct(),ft(At,1,1,(()=>{At=null})),ut())},i(t){if(!st){lt(Z.$$.fragment,t),lt(K.$$.fragment,t);for(let t=0;t<wt.length;t+=1)lt(mt[t]);lt(kt),lt(Mt),lt(Nt),lt(At),st=!0}},o(t){ft(Z.$$.fragment,t),ft(K.$$.fragment,t);for(let t=0;t<mt.length;t+=1)ft(mt[t]);ft(kt),ft(Mt),ft(Nt),ft(At),st=!1},d(n){n&&_(e),t[23][0].splice(t[23][0].indexOf(u),1),t[23][0].splice(t[23][0].indexOf(d),1),t[23][0].splice(t[23][0].indexOf(m),1),t[23][1].splice(t[23][1].indexOf(O),1),t[23][1].splice(t[23][1].indexOf(R),1),t[23][1].splice(t[23][1].indexOf(H),1),_t(Z),_t(K);for(let t=0;t<mt.length;t+=1)mt[t].d();kt&&kt.d(),t[30](null),Mt&&Mt.d(),n&&_(it),Nt&&Nt.d(n),n&&_(ot),At&&At.d(n),n&&_(at),ht=!1,i(dt)}}}function Il(t){t.detail.data}function Bl(t,e,n){let r,i,o,a,c,u;s(t,Rt,(t=>n(37,r=t))),s(t,It,(t=>n(38,i=t))),s(t,Vt,(t=>n(3,o=t))),s(t,Yt,(t=>n(4,a=t))),s(t,Ft,(t=>n(21,c=t))),s(t,Wt,(t=>n(12,u=t)));let{data:l}=e;let f={top:20,right:20,bottom:60,left:50};const h=.55*r-f.left-f.right,d=.7*i-f.top-f.bottom;let p,g,y,m,v,b,_,x,w=Nl.map((t=>({year:t[0],value:t[1]}))),$=!1,k=!1;V((()=>function(){let t=p[6],e=t.outliers[0];const n=[{note:{label:"Hover over a box to see precise numbers for each decade",bgPadding:10},x:g((t.x0+t.x1)/2),y:y(t.quartiles[1]),className:"show-bg",dy:-d/2,dx:-h/10,color:"black",type:mu,connector:{end:"arrow",endscale:10}},{note:{label:"Hover over an outlier to see which member of Congress it is",bgPadding:10},x:g(e.x),y:y(e.y),className:"show-bg",dy:-d/5,dx:h/10,color:"black",type:mu,connector:{end:"arrow",endscale:10},subject:{radius:13,radiusPadding:20}}],r=$u().notePadding(15).annotations(n);or(x).append("g").attr("class","annotation-group-box").style("background-color","rgba(230, 242, 255, 0.8)").style("border-radius","5px").call(r)}()));return t.$$set=t=>{"data"in t&&n(20,l=t.data)},t.$$.update=()=>{if(27&t.$$.dirty[0]){let t=function(t,e){let n,r=new Array,i=new Array;for(let t=1790;t<=2019;t++)i.push(t);return i.forEach((e=>{l.congresses[e].forEach((n=>{r.push({x:e,y:n[t],data:n})}))})),"both"!==e&&(r=r.filter((t=>t.data.type===e))),"age"!==t&&"min_age"!=t||(r=r.filter((t=>t.y>20))),n=_e().thresholds(23).value((t=>t.x))(r).map((n=>{n.sort(((t,e)=>t.y-e.y));const r=n.map((t=>t.y)),i=r[0],o=r[r.length-1],a=Me(r,.25),s=Me(r,.5),c=Me(r,.75),u=c-a,l=Math.max(i,a-1.5*u),f=Math.min(o,c+1.5*u);n.quartiles=[a,s,c],n.range=[l,f],n.absRange=[i,o],n.outliers=n.filter((t=>t.y<l||t.y>f));const h=new Set,d=new Array;return n.outliers.reverse().forEach((t=>{h.has(t.data.id)||(h.add(t.data.id),d.push(t))})),n.outliers=d,n.id=t+"/"+e+"/"+n.x0,n})),{bins:n,x:Na().domain([we(n,(t=>t.x0)),xe(n,(t=>t.x1))]).rangeRound([f.left,h-f.right]),y:Na().domain([we(n,(t=>t.absRange[0])),xe(n,(t=>t.absRange[1]))]).nice().range([d-f.bottom,f.top])}}(o,a);n(5,p=t.bins),n(0,g=t.x),n(1,y=t.y),n(6,m=Ta().defined((t=>!isNaN(t.value))).x((t=>g(t.year))).y((t=>y("age"===o||"min_age"===o?t.value:t.value-30)))(w))}2097156&t.$$.dirty[0]&&(c||setTimeout((function(){or(x).selectAll(".annotation-group-box").transition().duration(2e3).style("fill-opacity",0).style("stroke-opacity",0).remove()}),100))},[g,y,x,o,a,p,m,$,k,v,b,_,u,{cumulative_time_sen_and_house:"Years Served",age:"Age",nominate_dim1:"Ideology Score (liberal-conservative)",min_age:"Age at Start of Career"},f,h,d,function(t){Ft.set(!1),n(9,v=t),"I am box"===v.detail.text?n(7,$=!0):n(8,k=!0),n(10,b=t.detail.event.clientX),n(11,_=t.detail.event.clientY-.4*d)},function(t){n(10,b=t.detail.event.clientX),n(11,_=t.detail.event.clientY-.4*d)},function(t){"I am box"===t.detail.text?n(7,$=!1):n(8,k=!1)},l,c,function(){o=this.__value,Vt.set(o)},[[],[]],function(){o=this.__value,Vt.set(o)},function(){o=this.__value,Vt.set(o)},function(){a=this.__value,Yt.set(a)},function(){a=this.__value,Yt.set(a)},function(){a=this.__value,Yt.set(a)},function(){u=this.checked,Wt.set(u)},function(t){W[t?"unshift":"push"]((()=>{x=t,n(2,x)}))},function(t){b=t,n(10,b)},function(t){_=t,n(11,_)},function(t){v=t,n(9,v)},function(t){b=t,n(10,b)},function(t){_=t,n(11,_)},function(t){v=t,n(9,v)}]}class Ll extends $t{constructor(t){super(),wt(this,t,Bl,Rl,a,{data:20},[-1,-1])}}function Hl(t){let e,n,r;return n=new Ll({props:{data:t[0]}}),{c(){e=w("div"),vt(n.$$.fragment),C(e,"slot","background")},m(t,i){b(t,e,i),bt(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.data=t[0]),n.$set(r)},i(t){r||(lt(n.$$.fragment,t),r=!0)},o(t){ft(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Dl(t){let e;return{c(){e=w("div"),e.innerHTML='<section class="story-part">Let&#39;s take a more precise look at the distribution of experience in Congress by decade...</section> \n                \n             <section class="story-part">Time spent in Congress was relatively flat up until WW2.\n                <span class="emphasize">After WW2, members of Congress began to serve longer terms.</span> \n                <br/><br/>\n                Notably, some members began to serve <strong>really</strong> long terms.</section> \n\n             <section class="story-part"><i>How about average age in Congress?</i>\n\n                While average age has gone up slightly, this trend has lagged behind gains in life expectancy. \n                <br/><br/> \n                <span class="emphasize">Current Congress is the oldest Congress ever, but Congress has always been old.</span></section> \n\n             \n            \n\n             \n            <section class="story-part">Let&#39;s look back at time in Congress and overlay life expectancy increases. \n                We see that term lengths for the outliers increased as life expectancy increased.\n\n                <br/><br/> \n                <span class="emphasize">Career politicians stay in Congress as long as they are alive.</span></section> \n            \n             \n            <section class="story-part"><span class="direction">Explore the trends for yourself. How do increases in tenure differ between the House and Senate?</span></section> \n\n\n             \n            \n\n             \n            \n\n             \n            \n\n             <section class="blank-story-part"></section>',C(e,"slot","foreground")},m(t,n){b(t,e,n)},d(t){t&&_(e)}}}function Xl(t){let e,n,r,i,o,a;function s(e){t[6](e)}function c(e){t[7](e)}function u(e){t[8](e)}function l(e){t[9](e)}let f={top:Vl,threshold:Yl,bottom:Fl,$$slots:{foreground:[Dl],background:[Hl]},$$scope:{ctx:t}};return void 0!==t[3]&&(f.count=t[3]),void 0!==t[1]&&(f.index=t[1]),void 0!==t[4]&&(f.offset=t[4]),void 0!==t[2]&&(f.progress=t[2]),e=new Ot({props:f}),W.push((()=>mt(e,"count",s))),W.push((()=>mt(e,"index",c))),W.push((()=>mt(e,"offset",u))),W.push((()=>mt(e,"progress",l))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),a=!0},p(t,[a]){const s={};1025&a&&(s.$$scope={dirty:a,ctx:t}),!n&&8&a&&(n=!0,s.count=t[3],K((()=>n=!1))),!r&&2&a&&(r=!0,s.index=t[1],K((()=>r=!1))),!i&&16&a&&(i=!0,s.offset=t[4],K((()=>i=!1))),!o&&4&a&&(o=!0,s.progress=t[2],K((()=>o=!1))),e.$set(s)},i(t){a||(lt(e.$$.fragment,t),a=!0)},o(t){ft(e.$$.fragment,t),a=!1},d(t){_t(e,t)}}}let Vl=.1,Yl=.5,Fl=.9;function Wl(t,e,n){let r;s(t,Lt,(t=>n(5,r=t)));let i,o,a,c,{data:u}=e;return t.$$set=t=>{"data"in t&&n(0,u=t.data)},t.$$.update=()=>{if(2&t.$$.dirty)switch(o){case 0:Vt.set("cumulative_time_sen_and_house");break;case 1:Ft.set(!1),Vt.set("cumulative_time_sen_and_house"),Wt.set(!1);break;case 2:Vt.set("age"),Wt.set(!0),Yt.set("both");break;case 3:Vt.set("cumulative_time_sen_and_house"),Wt.set(!0),Yt.set("both")}36&t.$$.dirty&&(n(2,c),n(5,r),r&&Bt.set("boxplot"))},[u,o,c,i,a,r,function(t){i=t,n(3,i)},function(t){o=t,n(1,o)},function(t){a=t,n(4,a)},function(t){c=t,n(2,c),n(5,r)}]}class Ul extends $t{constructor(t){super(),wt(this,t,Wl,Xl,a,{data:0})}}if("undefined"!=typeof document){var Gl=document.documentElement;Gl.matches||Gl.webkitMatchesSelector||Gl.msMatchesSelector||Gl.mozMatchesSelector||Gl.oMatchesSelector}function Zl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var Jl;function Ql(t,e){var n=Zl(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Kl={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ql(100*t,e)},r:Ql,s:function(t,e){var n=Zl(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Jl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Zl(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},tf=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function ef(t){return new nf(t)}function nf(t){if(!(e=tf.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],c=!!e[7],u=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(c=!0,l="g"):Kl[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=c,this.precision=u,this.type=l}nf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var rf,of,af,sf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cf(t){return t}function uf(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):cf,i=t.currency,o=t.decimal;function a(t){var e=(t=ef(t)).fill,n=t.align,a=t.sign,s=t.symbol,c=t.zero,u=t.width,l=t.comma,f=t.precision,h=t.type,d="$"===s?i[0]:"#"===s&&/[boxX]/.test(h)?"0"+h.toLowerCase():"",p="$"===s?i[1]:/[%p]/.test(h)?"%":"",g=Kl[h],y=!h||/[defgprs%]/.test(h);function m(t){var i,s,m,v=d,b=p;if("c"===h)b=g(t)+b,t="";else{var _=((t=+t)<0||1/t<0)&&(t*=-1,!0);if(t=g(t,f),_)for(i=-1,s=t.length,_=!1;++i<s;)if(48<(m=t.charCodeAt(i))&&m<58||"x"===h&&96<m&&m<103||"X"===h&&64<m&&m<71){_=!0;break}if(v=(_?"("===a?a:"-":"-"===a||"("===a?"":a)+v,b=b+("s"===h?sf[8+Jl/3]:"")+(_&&"("===a?")":""),y)for(i=-1,s=t.length;++i<s;)if(48>(m=t.charCodeAt(i))||m>57){b=(46===m?o+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}l&&!c&&(t=r(t,1/0));var x=v.length+t.length+b.length,w=x<u?new Array(u-x+1).join(e):"";switch(l&&c&&(t=r(w+t,w.length?u-b.length:1/0),w=""),n){case"<":return v+t+b+w;case"=":return v+w+t+b;case"^":return w.slice(0,x=w.length>>1)+v+t+b+w.slice(x)}return w+v+t+b}return f=null==f?h?6:12:/[gprs]/.test(h)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),m.toString=function(){return t+""},m}return{format:a,formatPrefix:function(t,e){var n=a(((t=ef(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=Zl(Math.abs(t)))?t[1]:NaN}(e)/3))),i=Math.pow(10,-r),o=sf[8+r/3];return function(t){return n(i*t)+o}}}}function lf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}!function(t){(rf=uf(t)).format,rf.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),1===(of=lf).length&&(af=of,of=function(t,e){return lf(af(t),e)});var ff="$";function hf(){}function df(t,e){var n=new hf;if(t instanceof hf)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function pf(){}hf.prototype=df.prototype={constructor:hf,has:function(t){return ff+t in this},get:function(t){return this[ff+t]},set:function(t,e){return this[ff+t]=e,this},remove:function(t){var e=ff+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ff&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ff&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ff&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ff&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ff&&++t;return t},empty:function(){for(var t in this)if(t[0]===ff)return!1;return!0},each:function(t){for(var e in this)e[0]===ff&&t(this[e],e.slice(1),this)}};var gf=df.prototype;function yf(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mf(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vf(){}pf.prototype={constructor:pf,has:gf.has,add:function(t){return this[ff+(t+="")]=t,this},remove:gf.remove,clear:gf.clear,values:gf.keys,size:gf.size,empty:gf.empty,each:gf.each};var bf=.7,_f=1/bf,xf="\\s*([+-]?\\d+)\\s*",wf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kf=/^#([0-9a-f]{3,8})$/,Mf=new RegExp("^rgb\\("+[xf,xf,xf]+"\\)$"),Nf=new RegExp("^rgb\\("+[$f,$f,$f]+"\\)$"),Af=new RegExp("^rgba\\("+[xf,xf,xf,wf]+"\\)$"),Cf=new RegExp("^rgba\\("+[$f,$f,$f,wf]+"\\)$"),Sf=new RegExp("^hsl\\("+[wf,$f,$f]+"\\)$"),jf=new RegExp("^hsla\\("+[wf,$f,$f,wf]+"\\)$"),Ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tf(){return this.rgb().formatHex()}function Of(){return this.rgb().formatRgb()}function Pf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kf.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?qf(e):3===n?new If(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?zf(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?zf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Mf.exec(t))?new If(e[1],e[2],e[3],1):(e=Nf.exec(t))?new If(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Af.exec(t))?zf(e[1],e[2],e[3],e[4]):(e=Cf.exec(t))?zf(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Sf.exec(t))?Df(e[1],e[2]/100,e[3]/100,1):(e=jf.exec(t))?Df(e[1],e[2]/100,e[3]/100,e[4]):Ef.hasOwnProperty(t)?qf(Ef[t]):"transparent"===t?new If(NaN,NaN,NaN,0):null}function qf(t){return new If(t>>16&255,t>>8&255,255&t,1)}function zf(t,e,n,r){return r<=0&&(t=e=n=NaN),new If(t,e,n,r)}function Rf(t){return t instanceof vf||(t=Pf(t)),t?new If((t=t.rgb()).r,t.g,t.b,t.opacity):new If}function If(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Bf(){return"#"+Hf(this.r)+Hf(this.g)+Hf(this.b)}function Lf(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Hf(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Df(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vf(t,e,n,r)}function Xf(t){if(t instanceof Vf)return new Vf(t.h,t.s,t.l,t.opacity);if(t instanceof vf||(t=Pf(t)),!t)return new Vf;if(t instanceof Vf)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Vf(a,s,c,t.opacity)}function Vf(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Yf(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}yf(vf,Pf,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tf,formatHex:Tf,formatHsl:function(){return Xf(this).formatHsl()},formatRgb:Of,toString:Of}),yf(If,(function(t,e,n,r){return 1===arguments.length?Rf(t):new If(t,e,n,null==r?1:r)}),mf(vf,{brighter:function(t){return t=null==t?_f:Math.pow(_f,t),new If(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?bf:Math.pow(bf,t),new If(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bf,formatHex:Bf,formatRgb:Lf,toString:Lf})),yf(Vf,(function(t,e,n,r){return 1===arguments.length?Xf(t):new Vf(t,e,n,null==r?1:r)}),mf(vf,{brighter:function(t){return t=null==t?_f:Math.pow(_f,t),new Vf(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?bf:Math.pow(bf,t),new Vf(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new If(Yf(t>=240?t-240:t+120,i,r),Yf(t,i,r),Yf(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ff=Math.PI/180,Wf=180/Math.PI,Uf=-.14861,Gf=1.78277,Zf=-.29227,Jf=-.90649,Qf=1.97294,Kf=Qf*Jf,th=Qf*Gf,eh=Gf*Zf-Jf*Uf;function nh(t){if(t instanceof ih)return new ih(t.h,t.s,t.l,t.opacity);t instanceof If||(t=Rf(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(eh*r+Kf*e-th*n)/(eh+Kf-th),o=r-i,a=(Qf*(n-i)-Zf*o)/Jf,s=Math.sqrt(a*a+o*o)/(Qf*i*(1-i)),c=s?Math.atan2(a,o)*Wf-120:NaN;return new ih(c<0?c+360:c,s,i,t.opacity)}function rh(t,e,n,r){return 1===arguments.length?nh(t):new ih(t,e,n,null==r?1:r)}function ih(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function oh(t){return function(){return t}}function ah(t,e){return function(n){return t+n*e}}function sh(t,e){var n=e-t;return n?ah(t,n):oh(isNaN(t)?e:t)}function ch(t){return function e(n){function r(e,r){var i=t((e=rh(e)).h,(r=rh(r)).h),o=sh(e.s,r.s),a=sh(e.l,r.l),s=sh(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}yf(ih,rh,mf(vf,{brighter:function(t){return t=null==t?_f:Math.pow(_f,t),new ih(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?bf:Math.pow(bf,t),new ih(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ff,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new If(255*(e+n*(Uf*r+Gf*i)),255*(e+n*(Zf*r+Jf*i)),255*(e+n*(Qf*r)),this.opacity)}})),ch((function(t,e){var n=e-t;return n?ah(t,n>180||n<-180?n-360*Math.round(n/360):n):oh(isNaN(t)?e:t)}));var uh=ch(sh);function lh(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}function fh(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function hh(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function dh(t){let e,n,r,i,o,a,s,c,u=t[7]+"";return{c(){e=$("circle"),o=$("text"),a=k(u),C(e,"cx",n=t[2]+t[0](t[7])+gh*t[9]),C(e,"cy",r=t[3]-t[0](t[7])),C(e,"r",i=t[0](t[7])),C(e,"fill","none"),C(e,"stroke","black"),C(o,"x",s=t[2]+t[0](t[7])+gh*t[9]),C(o,"y",c=t[3]+10),C(o,"text-anchor","middle"),C(o,"font-size",10)},m(t,n){b(t,e,n),b(t,o,n),v(o,a)},p(t,l){21&l&&n!==(n=t[2]+t[0](t[7])+gh*t[9])&&C(e,"cx",n),25&l&&r!==(r=t[3]-t[0](t[7]))&&C(e,"cy",r),17&l&&i!==(i=t[0](t[7]))&&C(e,"r",i),16&l&&u!==(u=t[7]+"")&&E(a,u),21&l&&s!==(s=t[2]+t[0](t[7])+gh*t[9])&&C(o,"x",s),8&l&&c!==(c=t[3]+10)&&C(o,"y",c)},d(t){t&&_(e),t&&_(o)}}}function ph(e){let n,r,i,o,a,s=e[4],c=[];for(let t=0;t<s.length;t+=1)c[t]=dh(hh(e,s,t));return{c(){n=$("g"),r=$("text"),i=k(e[1]);for(let t=0;t<c.length;t+=1)c[t].c();C(r,"x",o=e[2]+e[5]/2),C(r,"y",a=e[3]-30),C(r,"text-anchor","middle"),C(r,"font-size","13"),C(n,"class","legend")},m(t,e){b(t,n,e),v(n,r),v(r,i);for(let t=0;t<c.length;t+=1)c[t].m(n,null)},p(t,[e]){if(2&e&&E(i,t[1]),36&e&&o!==(o=t[2]+t[5]/2)&&C(r,"x",o),8&e&&a!==(a=t[3]-30)&&C(r,"y",a),29&e){let r;for(s=t[4],r=0;r<s.length;r+=1){const i=hh(t,s,r);c[r]?c[r].p(i,e):(c[r]=dh(i),c[r].c(),c[r].m(n,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=s.length}},i:t,o:t,d(t){t&&_(n),x(c,t)}}}lh("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),lh("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),lh("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),lh("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),uh(rh(300,.5,0),rh(-240,.5,1)),uh(rh(-100,.75,.35),rh(80,1.5,.8)),uh(rh(260,.75,.35),rh(80,1.5,.8)),rh(),fh(lh("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),fh(lh("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),fh(lh("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),fh(lh("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));let gh=15;function yh(t,e,n){let r,i,{scale:o}=e,{title:a}=e,{xCircle:s}=e,{yCircle:c}=e,u=[.1,.5,.9];return t.$$set=t=>{"scale"in t&&n(0,o=t.scale),"title"in t&&n(1,a=t.title),"xCircle"in t&&n(2,s=t.xCircle),"yCircle"in t&&n(3,c=t.yCircle)},t.$$.update=()=>{17&t.$$.dirty&&(n(4,r=u.map((t=>Me(o.ticks(),t))).map((t=>Math.round(t)))),n(5,i=r.map((t=>o(t)+gh)).reduce(((t,e)=>t+e),0)-gh))},[o,a,s,c,r,i]}class mh extends $t{constructor(t){super(),wt(this,t,yh,ph,a,{scale:0,title:1,xCircle:2,yCircle:3})}}function vh(e){let n,r,o,a,s;return{c(){n=$("circle"),C(n,"transform",r=`translate(${e[1]},${e[2]})`),C(n,"id",o=e[0].official_full.replace(" ","_")),C(n,"r",e[4]),C(n,"fill",e[3]),C(n,"stroke","black")},m(t,r){b(t,n,r),a||(s=[A(n,"mouseover",e[5]),A(n,"mouseout",e[5]),A(n,"mousemove",e[5])],a=!0)},p(t,[e]){6&e&&r!==(r=`translate(${t[1]},${t[2]})`)&&C(n,"transform",r),1&e&&o!==(o=t[0].official_full.replace(" ","_"))&&C(n,"id",o),16&e&&C(n,"r",t[4]),8&e&&C(n,"fill",t[3])},i:t,o:t,d(t){t&&_(n),a=!1,i(s)}}}function bh(t,e,n){let{d:r}=e,{x:i}=e,{y:o}=e,{color:a="black"}=e,{r:s}=e;const c=Y();return t.$$set=t=>{"d"in t&&n(0,r=t.d),"x"in t&&n(1,i=t.x),"y"in t&&n(2,o=t.y),"color"in t&&n(3,a=t.color),"r"in t&&n(4,s=t.r)},[r,i,o,a,s,function(t){c(t.type,{text:"Hi there",event:t,data:{data:r}})}]}class _h extends $t{constructor(t){super(),wt(this,t,bh,vh,a,{d:0,x:1,y:2,color:3,r:4})}}function xh(t,e,n){const r=t.slice();return r[18]=e[n],r}function wh(t,e,n){const r=t.slice();return r[18]=e[n],r}function $h(t,e,n){const r=t.slice();return r[18]=e[n],r}function kh(t,e,n){const r=t.slice();return r[18]=e[n],r}function Mh(t){let e,n,r,o,a,s,c,u,l,f,h,d,p,g,y,m,$,N,S,j,O,q,z,R,I,B,L,H,D,X,V,Y,F,W,U,G,Z,J,K=t[0],tt=[];for(let e=0;e<K.length;e+=1)tt[e]=Nh(kh(t,K,e));let et=t[0],nt=[];for(let e=0;e<et.length;e+=1)nt[e]=Ah($h(t,et,e));let rt=t[0],it=[];for(let e=0;e<rt.length;e+=1)it[e]=Ch(wh(t,rt,e));let ot=t[0],at=[];for(let e=0;e<ot.length;e+=1)at[e]=Sh(xh(t,ot,e));return{c(){e=w("ul"),n=w("li"),r=k("year: "),o=k(t[2]),a=M(),s=w("input"),c=M(),u=w("li"),l=k("x-axis: \n            "),f=w("select");for(let t=0;t<tt.length;t+=1)tt[t].c();h=M(),d=w("li"),p=k("y-axis: \n            "),g=w("select");for(let t=0;t<nt.length;t+=1)nt[t].c();y=M(),m=w("li"),$=k("color: \n            "),N=w("select");for(let t=0;t<it.length;t+=1)it[t].c();S=M(),j=w("li"),O=k("size: \n            "),q=w("select");for(let t=0;t<at.length;t+=1)at[t].c();z=M(),R=w("li"),I=w("form"),B=w("label"),L=w("input"),H=k("\n                  Both"),D=M(),X=w("label"),V=w("input"),Y=k("\n                  Senate"),F=M(),W=w("label"),U=w("input"),G=k("\n                  House"),C(s,"type","range"),C(s,"min","1790"),C(s,"max","2021"),C(n,"class","svelte-1ogqo64"),void 0===t[3]&&Q((()=>t[10].call(f))),C(u,"class","svelte-1ogqo64"),void 0===t[4]&&Q((()=>t[11].call(g))),C(d,"class","svelte-1ogqo64"),void 0===t[5]&&Q((()=>t[12].call(N))),C(m,"class","svelte-1ogqo64"),void 0===t[6]&&Q((()=>t[13].call(q))),C(j,"class","svelte-1ogqo64"),C(L,"type","radio"),L.__value="both",L.value=L.__value,t[15][0].push(L),C(V,"type","radio"),V.__value="sen",V.value=V.__value,t[15][0].push(V),C(U,"type","radio"),U.__value="rep",U.value=U.__value,t[15][0].push(U),C(R,"class","svelte-1ogqo64"),C(e,"class","svelte-1ogqo64")},m(i,_){b(i,e,_),v(e,n),v(n,r),v(n,o),v(n,a),v(n,s),T(s,t[2]),v(e,c),v(e,u),v(u,l),v(u,f);for(let t=0;t<tt.length;t+=1)tt[t].m(f,null);P(f,t[3]),v(e,h),v(e,d),v(d,p),v(d,g);for(let t=0;t<nt.length;t+=1)nt[t].m(g,null);P(g,t[4]),v(e,y),v(e,m),v(m,$),v(m,N);for(let t=0;t<it.length;t+=1)it[t].m(N,null);P(N,t[5]),v(e,S),v(e,j),v(j,O),v(j,q);for(let t=0;t<at.length;t+=1)at[t].m(q,null);P(q,t[6]),v(e,z),v(e,R),v(R,I),v(I,B),v(B,L),L.checked=L.__value===t[7],v(B,H),v(I,D),v(I,X),v(X,V),V.checked=V.__value===t[7],v(X,Y),v(I,F),v(I,W),v(W,U),U.checked=U.__value===t[7],v(W,G),Z||(J=[A(s,"change",t[9]),A(s,"input",t[9]),A(f,"change",t[10]),A(g,"change",t[11]),A(N,"change",t[12]),A(q,"change",t[13]),A(L,"change",t[14]),A(V,"change",t[16]),A(U,"change",t[17])],Z=!0)},p(t,e){if(4&e&&E(o,t[2]),4&e&&T(s,t[2]),1&e){let n;for(K=t[0],n=0;n<K.length;n+=1){const r=kh(t,K,n);tt[n]?tt[n].p(r,e):(tt[n]=Nh(r),tt[n].c(),tt[n].m(f,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=K.length}if(9&e&&P(f,t[3]),1&e){let n;for(et=t[0],n=0;n<et.length;n+=1){const r=$h(t,et,n);nt[n]?nt[n].p(r,e):(nt[n]=Ah(r),nt[n].c(),nt[n].m(g,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}if(17&e&&P(g,t[4]),1&e){let n;for(rt=t[0],n=0;n<rt.length;n+=1){const r=wh(t,rt,n);it[n]?it[n].p(r,e):(it[n]=Ch(r),it[n].c(),it[n].m(N,null))}for(;n<it.length;n+=1)it[n].d(1);it.length=rt.length}if(33&e&&P(N,t[5]),1&e){let n;for(ot=t[0],n=0;n<ot.length;n+=1){const r=xh(t,ot,n);at[n]?at[n].p(r,e):(at[n]=Sh(r),at[n].c(),at[n].m(q,null))}for(;n<at.length;n+=1)at[n].d(1);at.length=ot.length}65&e&&P(q,t[6]),128&e&&(L.checked=L.__value===t[7]),128&e&&(V.checked=V.__value===t[7]),128&e&&(U.checked=U.__value===t[7])},d(n){n&&_(e),x(tt,n),x(nt,n),x(it,n),x(at,n),t[15][0].splice(t[15][0].indexOf(L),1),t[15][0].splice(t[15][0].indexOf(V),1),t[15][0].splice(t[15][0].indexOf(U),1),Z=!1,i(J)}}}function Nh(t){let e,n,r,i,o=t[18].text+"";return{c(){e=w("option"),n=k(o),r=M(),e.__value=i=t[18].id,e.value=e.__value},m(t,i){b(t,e,i),v(e,n),v(e,r)},p(t,r){1&r&&o!==(o=t[18].text+"")&&E(n,o),1&r&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(t){t&&_(e)}}}function Ah(t){let e,n,r,i,o=t[18].text+"";return{c(){e=w("option"),n=k(o),r=M(),e.__value=i=t[18].id,e.value=e.__value},m(t,i){b(t,e,i),v(e,n),v(e,r)},p(t,r){1&r&&o!==(o=t[18].text+"")&&E(n,o),1&r&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(t){t&&_(e)}}}function Ch(t){let e,n,r,i,o=t[18].text+"";return{c(){e=w("option"),n=k(o),r=M(),e.__value=i=t[18].id,e.value=e.__value},m(t,i){b(t,e,i),v(e,n),v(e,r)},p(t,r){1&r&&o!==(o=t[18].text+"")&&E(n,o),1&r&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(t){t&&_(e)}}}function Sh(t){let e,n,r,i,o=t[18].text+"";return{c(){e=w("option"),n=k(o),r=M(),e.__value=i=t[18].id,e.value=e.__value},m(t,i){b(t,e,i),v(e,n),v(e,r)},p(t,r){1&r&&o!==(o=t[18].text+"")&&E(n,o),1&r&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(t){t&&_(e)}}}function jh(e){let n,r,i,o,a,s,c=e[1]?"Collapse Options":"Reveal Options",u=e[1]&&Mh(e);return{c(){n=w("div"),r=w("button"),i=k(c),o=M(),u&&u.c(),C(n,"class","options svelte-1ogqo64")},m(t,c){b(t,n,c),v(n,r),v(r,i),v(n,o),u&&u.m(n,null),a||(s=A(r,"click",e[8]),a=!0)},p(t,[e]){2&e&&c!==(c=t[1]?"Collapse Options":"Reveal Options")&&E(i,c),t[1]?u?u.p(t,e):(u=Mh(t),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:t,o:t,d(t){t&&_(n),u&&u.d(),a=!1,s()}}}function Eh(t,e,n){let r,i,o,a,c,u,l;s(t,ee,(t=>n(1,r=t))),s(t,Qt,(t=>n(2,i=t))),s(t,Ut,(t=>n(3,o=t))),s(t,Gt,(t=>n(4,a=t))),s(t,Jt,(t=>n(5,c=t))),s(t,Zt,(t=>n(6,u=t))),s(t,ne,(t=>n(7,l=t)));let{options:f}=e;f=Object.entries(f).map((t=>({id:t[0],text:t[1]})));return t.$$set=t=>{"options"in t&&n(0,f=t.options)},[f,r,i,o,a,c,u,l,function(){ee.set(!r)},function(){i=j(this.value),Qt.set(i)},function(){o=q(this),Ut.set(o),n(0,f)},function(){a=q(this),Gt.set(a),n(0,f)},function(){c=q(this),Jt.set(c),n(0,f)},function(){u=q(this),Zt.set(u),n(0,f)},function(){l=this.__value,ne.set(l)},[[]],function(){l=this.__value,ne.set(l)},function(){l=this.__value,ne.set(l)}]}class Th extends $t{constructor(t){super(),wt(this,t,Eh,jh,a,{options:0})}}function Oh(e){let n;return{c(){n=$("g")},m(t,r){b(t,n,r),e[7](n)},p:t,i:t,o:t,d(t){t&&_(n),e[7](null)}}}function Ph(t,e,n){let r,{width:i}=e,{height:o}=e,{scale:a}=e,{title:s}=e,{xStart:c=500}=e,{yStart:u=30}=e,l=50,f=50;return t.$$set=t=>{"width"in t&&n(1,i=t.width),"height"in t&&n(2,o=t.height),"scale"in t&&n(3,a=t.scale),"title"in t&&n(4,s=t.title),"xStart"in t&&n(5,c=t.xStart),"yStart"in t&&n(6,u=t.yStart)},t.$$.update=()=>{if(127&t.$$.dirty){let t=or(r).attr("transform","translate("+(c-f)+","+(u+l)+")");!function(e){t.selectAll("*").remove();var n=t.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%").attr("spreadMethod","pad");let r=e.ticks();(function(){return Ne(arguments)})(r.map((t=>(t-r[0])/(r[r.length-1]-r[0])*100)).map((t=>Math.round(t)+"%")),r.map((t=>e(t)))).forEach((function(t){n.append("stop").attr("offset",t[0]).attr("stop-color",t[1]).attr("stop-opacity",1)})),t.append("text").attr("y",-10).attr("text-anchor","middle").attr("font-size",13).text(s),t.append("rect").attr("x1",0).attr("y1",0).attr("width",i).attr("height",o).style("fill","url(#gradient)");var a=Na().domain(ae(r)).range([o,0]),c=function(t){return ze(2,t)}().scale(a).tickValues(r);t.append("g").attr("class","legend axis").attr("transform","translate("+i+", 0)").call(c)}(a)}},[r,i,o,a,s,c,u,function(t){W[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class qh extends $t{constructor(t){super(),wt(this,t,Ph,Oh,a,{width:1,height:2,scale:3,title:4,xStart:5,yStart:6})}}function zh(e){let n,r,o,a,s,c;return{c(){n=w("div"),r=w("input"),o=M(),a=w("button"),a.textContent="Clear labels",C(r,"id","myInput"),C(r,"type","text"),C(r,"name","myCountry"),C(r,"placeholder","Search a member of Congress"),C(r,"class","svelte-1xse3uq"),C(a,"class","svelte-1xse3uq"),C(n,"class","autocomplete svelte-1xse3uq"),O(n,"width","300px")},m(t,i){b(t,n,i),v(n,r),T(r,e[0]),v(n,o),v(n,a),s||(c=[A(r,"input",e[3]),A(a,"click",e[1])],s=!0)},p(t,[e]){1&e&&r.value!==t[0]&&T(r,t[0])},i:t,o:t,d(t){t&&_(n),s=!1,i(c)}}}function Rh(t,e,n){let r,{data:i}=e,o=i.map((t=>t.official_full));const a=Y();return V((()=>{!function(t,e){var i;function o(t){if(!t)return!1;!function(t){for(var e=0;e<t.length;e++)t[e].classList.remove("autocomplete-active")}(t),i>=t.length&&(i=0),i<0&&(i=t.length-1),t[i].classList.add("autocomplete-active")}function a(e){for(var n=document.getElementsByClassName("autocomplete-items"),r=0;r<n.length;r++)e!=n[r]&&e!=t&&n[r].parentNode.removeChild(n[r])}t.addEventListener("input",(function(o){var s,c,u,l=this.value;if(a(),!l)return!1;for(i=-1,(s=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),s.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(s),u=0;u<e.length;u++)e[u].substr(0,l.length).toUpperCase()==l.toUpperCase()&&((c=document.createElement("DIV")).innerHTML="<strong>"+e[u].substr(0,l.length)+"</strong>",c.innerHTML+=e[u].substr(l.length),c.innerHTML+="<input type='hidden' value='"+e[u]+"'>",c.addEventListener("click",(function(e){t.value=this.getElementsByTagName("input")[0].value,n(0,r=t.value),a()})),s.appendChild(c))})),t.addEventListener("keydown",(function(t){var e=document.getElementById(this.id+"autocomplete-list");e&&(e=e.getElementsByTagName("div")),40==t.keyCode?(i++,o(e)):38==t.keyCode?(i--,o(e)):13==t.keyCode&&(t.preventDefault(),i>-1&&e&&e[i].click())})),document.addEventListener("click",(function(t){a(t.target)}))}(document.getElementById("myInput"),o)})),t.$$set=t=>{"data"in t&&n(2,i=t.data)},t.$$.update=()=>{1&t.$$.dirty&&(n(0,r),n(4,o),o.includes(r)&&a("message",{text:r}))},[r,function(){n(0,r=""),a("message",{text:"clear-labels"})},i,function(){r=this.value,n(0,r),n(4,o)}]}class Ih extends $t{constructor(t){super(),wt(this,t,Rh,zh,a,{data:2})}}function Bh(t,e,n){const r=t.slice();return r[38]=e[n],r}function Lh(t,e,n){const r=t.slice();return r[41]=e[n],r}function Hh(t){let e,n;return e=new _h({props:{d:t[41],x:t[8](t[41].x),y:t[9](t[41].y),color:t[10](t[41][t[5]]),r:t[11](t[41][t[6]])}}),e.$on("mouseover",t[22]),e.$on("mouseout",t[24]),e.$on("mousemove",t[23]),{c(){vt(e.$$.fragment)},m(t,r){bt(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.d=t[41]),257&n[0]&&(r.x=t[8](t[41].x)),513&n[0]&&(r.y=t[9](t[41].y)),1057&n[0]&&(r.color=t[10](t[41][t[5]])),2113&n[0]&&(r.r=t[11](t[41][t[6]])),e.$set(r)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ft(e.$$.fragment,t),n=!1},d(t){_t(e,t)}}}function Dh(t){let e,n,r,i=t[0],o=[];for(let e=0;e<i.length;e+=1)o[e]=Hh(Lh(t,i,e));const a=t=>ft(o[t],1,1,(()=>{o[t]=null}));return{c(){e=$("g");for(let t=0;t<o.length;t+=1)o[t].c()},m(n,i){b(n,e,i);for(let t=0;t<o.length;t+=1)o[t].m(e,null);t[29](e),r=!0},p(t,n){if(29364065&n[0]){let r;for(i=t[0],r=0;r<i.length;r+=1){const a=Lh(t,i,r);o[r]?(o[r].p(a,n),lt(o[r],1)):(o[r]=Hh(a),o[r].c(),lt(o[r],1),o[r].m(e,null))}for(ct(),r=i.length;r<o.length;r+=1)a(r);ut()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)lt(o[t]);Q((()=>{n||(n=dt(e,Pt,{duration:1e3},!0)),n.run(1)})),r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)ft(o[t]);n||(n=dt(e,Pt,{duration:1e3},!1)),n.run(0),r=!1},d(r){r&&_(e),x(o,r),t[29](null),r&&n&&n.end()}}}function Xh(t){let e,n,r,i,o=t[38].official_full+"";return{c(){e=$("text"),n=k(o),C(e,"x",r=t[8](t[38][t[3]])),C(e,"y",i=t[9](t[38][t[4]])-5),C(e,"font-size","12px"),C(e,"stroke","black"),C(e,"text-anchor","middle"),C(e,"class","svelte-1mkmnmf")},m(t,r){b(t,e,r),v(e,n)},p(t,a){65536&a[0]&&o!==(o=t[38].official_full+"")&&E(n,o),65800&a[0]&&r!==(r=t[8](t[38][t[3]]))&&C(e,"x",r),66064&a[0]&&i!==(i=t[9](t[38][t[4]])-5)&&C(e,"y",i)},d(t){t&&_(e)}}}function Vh(t){let e;return{c(){e=w("div"),e.innerHTML='<h3 class="svelte-1mkmnmf">No data available for this query</h3>',C(e,"class","error")},m(t,n){b(t,e,n)},d(t){t&&_(e)}}}function Yh(t){let e,n,r,i,o;function a(e){t[31](e)}function s(e){t[32](e)}function c(e){t[33](e)}let u={otherFields:!0};return void 0!==t[14]&&(u.x=t[14]),void 0!==t[15]&&(u.y=t[15]),void 0!==t[13]&&(u.message=t[13]),e=new el({props:u}),W.push((()=>mt(e,"x",a))),W.push((()=>mt(e,"y",s))),W.push((()=>mt(e,"message",c))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),o=!0},p(t,o){const a={};!n&&16384&o[0]&&(n=!0,a.x=t[14],K((()=>n=!1))),!r&&32768&o[0]&&(r=!0,a.y=t[15],K((()=>r=!1))),!i&&8192&o[0]&&(i=!0,a.message=t[13],K((()=>i=!1))),e.$set(a)},i(t){o||(lt(e.$$.fragment,t),o=!0)},o(t){ft(e.$$.fragment,t),o=!1},d(t){_t(e,t)}}}function Fh(e){let n,r,i,o,s,c,u,l,f,h,d,p,g,y,m,A,S,j,T,O,P,q,z,R=e[17][e[3]]+"",I=e[17][e[4]]+"",B=e[0];u=new yl({props:{width:e[20],height:e[21],margin:e[19].bottom,scale:e[8],position:"bottom"}}),h=new yl({props:{width:e[20],height:e[21],margin:e[19].left,scale:e[9],position:"left"}}),d=new mh({props:{title:e[17][e[6]],scale:e[11],xCircle:e[20]-100,yCircle:e[21]/3}}),p=new qh({props:{width:10,height:100,scale:e[10],xStart:e[20]-25,yStart:e[21]/3,title:e[18][e[5]]}});let L=Dh(e),H=e[16],D=[];for(let t=0;t<H.length;t+=1)D[t]=Xh(Bh(e,H,t));let X=0===e[0].length&&Vh();j=new Ih({props:{data:e[0]}}),j.$on("message",e[25]),O=new Th({props:{options:e[17]}});let V=e[12]&&Yh(e);return{c(){n=w("div"),r=w("h2"),i=k("Congress in "),o=k(e[2]),s=M(),c=$("svg"),vt(u.$$.fragment),l=$("text"),f=k(R),vt(h.$$.fragment),vt(d.$$.fragment),vt(p.$$.fragment),g=$("text"),y=k(I),L.c(),m=$("g");for(let t=0;t<D.length;t+=1)D[t].c();A=M(),X&&X.c(),S=M(),vt(j.$$.fragment),T=M(),vt(O.$$.fragment),P=M(),V&&V.c(),q=N(),C(l,"text-anchor","middle"),C(l,"x",e[20]/2),C(l,"y",e[21]-e[19].bottom/3),C(l,"fill","black"),C(l,"class","svelte-1mkmnmf"),C(g,"text-anchor","middle"),C(g,"fill","black"),C(g,"transform",`translate(${e[19].left/3}, ${e[21]/2}) rotate(270)`),C(g,"class","svelte-1mkmnmf"),C(c,"viewBox",[0,0,e[20],e[21]]),C(c,"width",e[20]),C(c,"height",e[21]),C(n,"class","scatterplot")},m(t,a){b(t,n,a),v(n,r),v(r,i),v(r,o),v(n,s),v(n,c),bt(u,c,null),v(c,l),v(l,f),bt(h,c,null),bt(d,c,null),bt(p,c,null),v(c,g),v(g,y),L.m(c,null),v(c,m);for(let t=0;t<D.length;t+=1)D[t].m(m,null);e[30](c),b(t,A,a),X&&X.m(t,a),b(t,S,a),bt(j,t,a),b(t,T,a),bt(O,t,a),b(t,P,a),V&&V.m(t,a),b(t,q,a),z=!0},p(e,n){(!z||4&n[0])&&E(o,e[2]);const r={};256&n[0]&&(r.scale=e[8]),u.$set(r),(!z||8&n[0])&&R!==(R=e[17][e[3]]+"")&&E(f,R);const i={};512&n[0]&&(i.scale=e[9]),h.$set(i);const s={};64&n[0]&&(s.title=e[17][e[6]]),2048&n[0]&&(s.scale=e[11]),d.$set(s);const l={};if(1024&n[0]&&(l.scale=e[10]),32&n[0]&&(l.title=e[18][e[5]]),p.$set(l),(!z||16&n[0])&&I!==(I=e[17][e[4]]+"")&&E(y,I),1&n[0]&&a(B,B=e[0])?(ct(),ft(L,1,1,t),ut(),L=Dh(e),L.c(),lt(L),L.m(c,m)):L.p(e,n),66328&n[0]){let t;for(H=e[16],t=0;t<H.length;t+=1){const r=Bh(e,H,t);D[t]?D[t].p(r,n):(D[t]=Xh(r),D[t].c(),D[t].m(m,null))}for(;t<D.length;t+=1)D[t].d(1);D.length=H.length}0===e[0].length?X||(X=Vh(),X.c(),X.m(S.parentNode,S)):X&&(X.d(1),X=null);const g={};1&n[0]&&(g.data=e[0]),j.$set(g),e[12]?V?(V.p(e,n),4096&n[0]&&lt(V,1)):(V=Yh(e),V.c(),lt(V,1),V.m(q.parentNode,q)):V&&(ct(),ft(V,1,1,(()=>{V=null})),ut())},i(t){z||(lt(u.$$.fragment,t),lt(h.$$.fragment,t),lt(d.$$.fragment,t),lt(p.$$.fragment,t),lt(L),lt(j.$$.fragment,t),lt(O.$$.fragment,t),lt(V),z=!0)},o(t){ft(u.$$.fragment,t),ft(h.$$.fragment,t),ft(d.$$.fragment,t),ft(p.$$.fragment,t),ft(L),ft(j.$$.fragment,t),ft(O.$$.fragment,t),ft(V),z=!1},d(t){t&&_(n),_t(u),_t(h),_t(d),_t(p),L.d(t),x(D,t),e[30](null),t&&_(A),X&&X.d(t),t&&_(S),_t(j,t),t&&_(T),_t(O,t),t&&_(P),V&&V.d(t),t&&_(q)}}}function Wh(t,e,n){let r,i,o,a,c,u,l,f,d,p;s(t,Rt,(t=>n(34,r=t))),s(t,It,(t=>n(35,i=t))),s(t,Qt,(t=>n(2,o=t))),s(t,Ut,(t=>n(3,a=t))),s(t,Gt,(t=>n(4,c=t))),s(t,Jt,(t=>n(5,u=t))),s(t,ne,(t=>n(27,l=t))),s(t,Zt,(t=>n(6,f=t))),s(t,te,(t=>n(36,d=t))),s(t,Kt,(t=>n(28,p=t)));let g,{data:y}=e;const m={top:20,right:100,bottom:60,left:50},v=.6*r-m.left-m.right,b=.7*i-m.top-m.bottom;let _,x,w,$,k,M,N,A,C=!1;Qt.subscribe((()=>{te.set([])}));let S,j=[];return te.subscribe((t=>{n(16,j=t.map((t=>_.find((e=>e.official_full==t)))))})),V((()=>{!function(){let t=_.find((t=>"Chuck Grassley"===t.official_full));const e=[{note:{label:"Each point is sized by length of tenure and colored by ideology. Hover over a point to reveal more details.",bgPadding:10},x:x(t.x),y:w(t.y),className:"show-bg",dy:0,dx:v/7,color:"black",type:mu,connector:{end:"arrow",endscale:10},subject:{radius:t.r+10,radiusPadding:10}}],n=$u().notePadding(15).annotations(e);or(S).append("g").attr("class","annotation-group-scatter").style("background-color","rgba(230, 242, 255, 0.8)").style("border-radius","5px").call(n)}()})),t.$$set=t=>{"data"in t&&n(26,y=t.data)},t.$$.update=()=>{201326717&t.$$.dirty[0]&&(n(0,_=y.congresses[o].filter((t=>null!=t[a])).filter((t=>null!=t[c])).filter((t=>!isNaN(t[a]))).filter((t=>!isNaN(t[c]))).map((t=>({...t,x:Number(t[a]),y:Number(t[c])}))).filter((t=>null!=t[u])).filter((t=>-99!==t.x&&-99!==t.y))),"both"!==l&&n(0,_=_.filter((t=>t.type===l))),n(8,x=Na().domain(ae(_,(t=>t.x))).nice().range([m.left,v-m.right])),n(9,w=Na().domain(ae(_,(t=>t.y))).nice().range([b-m.bottom,m.top])),n(10,$="nominate_dim1"===u?Na().domain([-.8,0,.8]).nice().range(["blue","white","red"]):Na().domain(ae(_,(t=>t[u]))).nice().range(["white","blue"])),n(11,k=Na().domain(ae(_,(t=>t[f]))).nice().range([2,8]))),268435458&t.$$.dirty[0]&&(p||setTimeout((function(){or(S).selectAll(".annotation-group-scatter").transition().duration(2e3).style("fill-opacity",0).style("stroke-opacity",0).remove()}),100))},[_,S,o,a,c,u,f,g,x,w,$,k,C,M,N,A,j,{nominate_dim1:"Ideology Score (liberal-conservative)",nominate_dim2:'Ideology Score ("hot topics" dimension)',min_age:"Age on Entering Congress",age:"Current Age",cumulative_time_sen_and_house:"Total Time in Congress",cosponsored:"# of Bills Cosponsored",bills_introduced:"# of Bills Introduced",bills_enacted_ti:"# of Bills that Became Law",missed_votes:"% of Votes Missed",bills_with_cosponsor_other_party:"# of Bipartisan Bills",committee_positions:"# of Committee Positions"},{nominate_dim1:"Ideology Score",min_age:"Age on Entry",max_age:"Max Age",age:"Current Age",cumulative_time_sen_and_house:"Total Time"},m,v,b,function(t){Kt.set(!1),n(13,M=t),n(12,C=!0),n(14,N=t.detail.event.clientX),n(15,A=t.detail.event.clientY),A>.5*b&&n(15,A-=.3*b)},function(t){n(14,N=t.detail.event.clientX),n(15,A=t.detail.event.clientY),A>.5*b&&n(15,A-=.3*b)},function(){n(12,C=!1)},function(t){"clear-labels"===t.detail.text?(h(te,d=[],d),or(g).selectAll("text").remove()):h(te,d=[...d,t.detail.text],d)},y,l,p,function(t){W[t?"unshift":"push"]((()=>{g=t,n(7,g)}))},function(t){W[t?"unshift":"push"]((()=>{S=t,n(1,S)}))},function(t){N=t,n(14,N)},function(t){A=t,n(15,A)},function(t){M=t,n(13,M)}]}class Uh extends $t{constructor(t){super(),wt(this,t,Wh,Fh,a,{data:26},[-1,-1])}}function Gh(t){let e,n,r;return n=new Uh({props:{data:t[0]}}),{c(){e=w("div"),vt(n.$$.fragment),C(e,"slot","background")},m(t,i){b(t,e,i),bt(n,e,null),r=!0},p(t,e){const r={};1&e&&(r.data=t[0]),n.$set(r)},i(t){r||(lt(n.$$.fragment,t),r=!0)},o(t){ft(n.$$.fragment,t),r=!1},d(t){t&&_(e),_t(n)}}}function Zh(t){let e;return{c(){e=w("div"),e.innerHTML='<section class="story-part svelte-1omt4i3">While members of Congress may be slightly older and serving longer, why does that matter? In this section, \n            we explore how longer terms correlate with different variables of interest.\n            \n            <br/><br/>\n            Let&#39;s zoom in on Congress today. \n            This scatterplot shows the relationship between a member&#39;s ideology and length of tenure. Ideology scores are computed based on historical voting patterns \n            <a href="https://en.wikipedia.org/wiki/NOMINATE_(scaling_method)">using the DW-NOMINATE algorithm</a>.</section> \n\n        \n        <section class="story-part svelte-1omt4i3">In general, the longest serving members of Congress tend to be more moderate. \n            This is especially true for conservatives, where\n            <span class="red">time in Congress is negatively correlated with conservative ideology.</span> \n\n            <br/><br/>Some very liberal members, like\n            <span class="blue">Rep. Maxine Waters and Rep. Barbara Lee</span>,  have had long tenures.</section> \n\n        \n        <section class="story-part svelte-1omt4i3">Let&#39;s explore some other outcomes... <i>Do more experienced members sponsor more bills?</i>  \n            \n            <br/><br/>There is not a clear relationship.</section> \n\n        \n        <section class="story-part svelte-1omt4i3"><i>Do longer-tenured members work across the aisle more?</i>  \n            \n            <br/><br/> There&#39;s a small positive correlation between length of tenure and bipartisan bills sponsored.</section> \n\n        \n        <section class="story-part svelte-1omt4i3">While these outcomes are crude and a lot of what&#39;s desired by members of Congress cannot be plotted on a graph, \n            it is not clear that more experienced members of Congress differ in behavior from newer members. \n\n            <br/><br/> \n            <span class="direction">Try it yourself! Explore different variables and years of Congress.</span></section> \n\n        <section class="blank-story-part svelte-1omt4i3"></section>',C(e,"slot","foreground"),C(e,"class","svelte-1omt4i3")},m(t,n){b(t,e,n)},d(t){t&&_(e)}}}function Jh(t){let e,n,r,i;function o(e){t[4](e)}function a(e){t[5](e)}let s={$$slots:{foreground:[Zh],background:[Gh]},$$scope:{ctx:t}};return void 0!==t[1]&&(s.index=t[1]),void 0!==t[2]&&(s.progress=t[2]),e=new Ot({props:s}),W.push((()=>mt(e,"index",o))),W.push((()=>mt(e,"progress",a))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),i=!0},p(t,[i]){const o={};257&i&&(o.$$scope={dirty:i,ctx:t}),!n&&2&i&&(n=!0,o.index=t[1],K((()=>n=!1))),!r&&4&i&&(r=!0,o.progress=t[2],K((()=>r=!1))),e.$set(o)},i(t){i||(lt(e.$$.fragment,t),i=!0)},o(t){ft(e.$$.fragment,t),i=!1},d(t){_t(e,t)}}}function Qh(t,e,n){let r;s(t,Lt,(t=>n(3,r=t)));let i,o,{data:a}=e;return t.$$set=t=>{"data"in t&&n(0,a=t.data)},t.$$.update=()=>{if(12&t.$$.dirty&&(n(2,o),n(3,r),r&&Bt.set("scatterplot")),2&t.$$.dirty)switch(i){case 1:Kt.set(!1),te.set(Array("Maxine Waters","Barbara Lee"));break;case 2:Ut.set("cosponsored");break;case 3:Ut.set("bills_with_cosponsor_other_party");break;case 4:Ut.set("nominate_dim1"),ee.set(!0)}},[a,i,o,r,function(t){i=t,n(1,i)},function(t){o=t,n(2,o),n(3,r)}]}class Kh extends $t{constructor(t){super(),wt(this,t,Qh,Jh,a,{data:0})}}function td(e){let n,r,i,o,a,s,c,u,l,f,h;return{c(){n=w("div"),r=w("ul"),i=w("li"),o=w("img"),s=M(),c=w("br"),u=M(),l=w("li"),f=w("img"),o.src!==(a="images/drain_the_swamp.jpeg")&&C(o,"src","images/drain_the_swamp.jpeg"),C(o,"alt","drain the swamp"),C(o,"height",e[2]),f.src!==(h="images/no_pac_money.webp")&&C(f,"src","images/no_pac_money.webp"),C(f,"alt","no pac money"),C(f,"height",e[2]),C(r,"class","blank svelte-1gb9rdn"),C(n,"slot","background")},m(t,e){b(t,n,e),v(n,r),v(r,i),v(i,o),v(r,s),v(r,c),v(r,u),v(r,l),v(l,f)},p:t,d(t){t&&_(n)}}}function ed(t){let e;return{c(){e=w("div"),e.innerHTML='<section class="story-part svelte-1gb9rdn"><p>Dissatisfaction with current American politics is a populist theme on both sides of the aisle. \n                Whether it&#39;s \n                <span class="red">drain the swamp</span> \n                or a \n                <span class="blue">no corporate PAC pledge</span>,\n                \n                populist messages suggest the need for an outsider to disrupt \n                the status quo.</p></section> \n\n        <section class="story-part svelte-1gb9rdn"><p>Many criticisms take aim at the inadequacy of the  \n                <span class="emphasize">establishment</span> \n                or the \n                <span class="emphasize">career politicians</span>\n                \n                who have been in office for decades.\n                \n\n                <br/><br/>\n\n                Some current bills addressing these issues include:</p>   \n\n                <ul><li><a href="https://en.wikipedia.org/wiki/For_the_People_Act" target="_blank">H.R. 1 (electoral reform bill)</a></li> \n                    <li><a href="https://www.congress.gov/bill/116th-congress/house-joint-resolution/20?q=%7B%22search%22%3A%5B%22term+limits%22%5D%7D&amp;s=1&amp;r=1" target="_blank">Proposed Constitutional amendment to limit congressional term lengths</a></li></ul></section> \n\n        <section class="story-part svelte-1gb9rdn"><p><i>Are career politicians a new phenomenon?</i> More importantly, <i>is this a problem?</i>  \n                <br/><br/> \n                <span class="direction">Scroll on for a visual exploration of this question.</span></p></section> \n\n        <section class="blank-story-part svelte-1gb9rdn"></section>',C(e,"slot","foreground"),C(e,"class","foreground svelte-1gb9rdn")},m(t,n){b(t,e,n)},d(t){t&&_(e)}}}function nd(t){let e,n,r;function i(e){t[4](e)}let o={index:t[1],$$slots:{foreground:[ed],background:[td]},$$scope:{ctx:t}};return void 0!==t[0]&&(o.progress=t[0]),e=new Ot({props:o}),W.push((()=>mt(e,"progress",i))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),r=!0},p(t,[r]){const i={};1024&r&&(i.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,i.progress=t[0],K((()=>n=!1))),e.$set(i)},i(t){r||(lt(e.$$.fragment,t),r=!0)},o(t){ft(e.$$.fragment,t),r=!1},d(t){_t(e,t)}}}function rd(t,e,n){let r,i,o;s(t,Rt,(t=>n(5,t))),s(t,It,(t=>n(6,r=t))),s(t,Lt,(t=>n(3,i=t)));const a=.3*r;return document.addEventListener("scroll",(()=>{Lt.set(!0)})),t.$$.update=()=>{9&t.$$.dirty&&(n(0,o),n(3,i),i&&o<.8&&Bt.set("intro"))},[o,undefined,a,i,function(t){o=t,n(0,o),n(3,i)}]}class id extends $t{constructor(t){super(),wt(this,t,rd,nd,a,{})}}function od(t,e,n){const r=t.slice();return r[2]=e[n],r}function ad(t){let e,n,r,i,o,a=t[2][1]+"";return{c(){e=w("li"),n=w("a"),r=k(a),i=M(),C(n,"href","#"+t[2][0]),C(n,"class","svelte-1faac7x"),C(e,"class",o=f(t[0]===t[2][0]?"current":"inactive")+" svelte-1faac7x")},m(t,o){b(t,e,o),v(e,n),v(n,r),v(e,i)},p(t,n){1&n&&o!==(o=f(t[0]===t[2][0]?"current":"inactive")+" svelte-1faac7x")&&C(e,"class",o)},d(t){t&&_(e)}}}function sd(e){let n,r,i,o,a=e[1],s=[];for(let t=0;t<a.length;t+=1)s[t]=ad(od(e,a,t));return{c(){n=w("header"),r=w("h2"),r.textContent="Quick Navigation",i=M(),o=w("ul");for(let t=0;t<s.length;t+=1)s[t].c();C(o,"class","svelte-1faac7x"),C(n,"class","svelte-1faac7x")},m(t,e){b(t,n,e),v(n,r),v(n,i),v(n,o);for(let t=0;t<s.length;t+=1)s[t].m(o,null)},p(t,[e]){if(3&e){let n;for(a=t[1],n=0;n<a.length;n+=1){const r=od(t,a,n);s[n]?s[n].p(r,e):(s[n]=ad(r),s[n].c(),s[n].m(o,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},i:t,o:t,d(t){t&&_(n),x(s,t)}}}function cd(t,e,n){let r;s(t,Bt,(t=>n(0,r=t)));let i=Array(["intro","Introduction"],["bubbleplot","Distribution of Congressional Experience"],["boxplot","Congress over the Years"],["scatterplot","Length of Tenure vs. Performance"],["conclusion","Conclusion"]);return[r,i]}class ud extends $t{constructor(t){super(),wt(this,t,cd,sd,a,{})}}function ld(e){let n,r,i,o,a;return{c(){n=w("div"),r=w("br"),i=M(),o=w("img"),o.src!==(a="images/keeps_running.jpg")&&C(o,"src","images/keeps_running.jpg"),C(o,"alt","drain the swamp"),C(o,"height",2*e[2]),C(n,"slot","background")},m(t,e){b(t,n,e),v(n,r),v(n,i),v(n,o)},p:t,d(t){t&&_(n)}}}function fd(t){let e;return{c(){e=w("div"),e.innerHTML='<section class="story-part svelte-ibghde"><p><i>Are increasingly long stays in Congress a problem?</i> \n\n                <br/><br/>\n                Maybe.</p></section> \n\n\n        <section class="story-part svelte-ibghde"><p>On the one hand, the Constitution was not written with 21st century life expectancies in mind. It has age minimums, but no age maximums... \n                If we have members of Congress serving lifelong terms, like Supreme Court justices, this could be a problem.</p></section> \n\n        <section class="story-part svelte-ibghde"><p>On the other hand, these members have to win a democratic election regularly. If their constituents are happy, does it matter? \n                Moreover, these members are generally more moderate. Term limits could increase polarization, which could mean even less bipartisan legislation.</p></section> \n\n        <section class="story-part svelte-ibghde"><p>One thing is clear. If longevity in the United States begins to increase again, we can expect to see longer and longer stays in Congress.</p></section> \n\n\n        <section class="blank-story-part svelte-ibghde"></section>',C(e,"slot","foreground"),C(e,"class","foreground svelte-ibghde")},m(t,n){b(t,e,n)},d(t){t&&_(e)}}}function hd(t){let e,n,r;function i(e){t[4](e)}let o={index:t[1],$$slots:{foreground:[fd],background:[ld]},$$scope:{ctx:t}};return void 0!==t[0]&&(o.progress=t[0]),e=new Ot({props:o}),W.push((()=>mt(e,"progress",i))),{c(){vt(e.$$.fragment)},m(t,n){bt(e,t,n),r=!0},p(t,[r]){const i={};1024&r&&(i.$$scope={dirty:r,ctx:t}),!n&&1&r&&(n=!0,i.progress=t[0],K((()=>n=!1))),e.$set(i)},i(t){r||(lt(e.$$.fragment,t),r=!0)},o(t){ft(e.$$.fragment,t),r=!1},d(t){_t(e,t)}}}function dd(t,e,n){let r,i,o;s(t,Lt,(t=>n(3,r=t))),s(t,Rt,(t=>n(5,t))),s(t,It,(t=>n(6,i=t)));const a=.3*i;return t.$$.update=()=>{9&t.$$.dirty&&(n(0,o),n(3,r),r&&Bt.set("conclusion"))},[o,undefined,a,r,function(t){o=t,n(0,o),n(3,r)}]}class pd extends $t{constructor(t){super(),wt(this,t,dd,hd,a,{})}}function gd(e){let n,r,i,o=console.log(e[2])+"";return{c(){n=w("p"),n.textContent="An error occurred!",r=M(),i=k(o)},m(t,e){b(t,n,e),b(t,r,e),b(t,i,e)},p:t,i:t,o:t,d(t){t&&_(n),t&&_(r),t&&_(i)}}}function yd(e){let n,r,i,o,a,s,c,u,l,f,h,d,p,g,y,m,v,x,$,k,N,A;return i=new id({}),c=new dl({props:{data:e[1]}}),h=new Ul({props:{data:e[1]}}),y=new Kh({props:{data:e[1]}}),$=new pd({}),{c(){n=w("div"),r=M(),vt(i.$$.fragment),o=M(),a=w("div"),a.innerHTML='<h1 class="svelte-7mrze3">Distribution of Congressional Experience</h1>',s=M(),vt(c.$$.fragment),u=M(),l=w("div"),l.innerHTML='<h1 class="svelte-7mrze3">Congress Over The Years</h1>',f=M(),vt(h.$$.fragment),d=M(),p=w("div"),p.innerHTML='<h1 class="svelte-7mrze3">Congressional Experience versus Performance</h1>',g=M(),vt(y.$$.fragment),m=M(),v=w("div"),v.innerHTML='<h1 class="svelte-7mrze3">Conclusion</h1>',x=M(),vt($.$$.fragment),k=M(),N=w("div"),N.innerHTML='<h3>Data and Other Links</h3> \n            <ul class="svelte-7mrze3"><li class="svelte-7mrze3"><a href="https://www.govtrack.us/congress/members">Govtrack Congressional Database</a></li> \n                <li class="svelte-7mrze3"><a href="https://voteview.com/about">Voteview Ideology Scores</a></li> \n\t\t\t\t<li class="svelte-7mrze3"><a href="https://www.statista.com/statistics/1040079/life-expectancy-united-states-all-time/">Historical Life Expectancy Data</a></li> \n\t\t\t\t<li class="svelte-7mrze3"><a href="https://github.com/6859-sp21/final-project-the-rise-of-the-career-politician">Project Page</a></li> \n\t\t\t\t<li class="svelte-7mrze3"><a href="./writeup.pdf">Project Paper</a></li>     \n\t\t\t\t<li class="svelte-7mrze3"><a href="https://drive.google.com/file/d/10ccwIwnkN9Wqwky3uB7_xVQptNgkpVMQ/view?usp=sharing">Project Video</a></li></ul>',C(n,"class","spacer svelte-7mrze3"),C(n,"id","intro"),C(a,"class","spacer svelte-7mrze3"),C(a,"id","bubbleplot"),C(l,"class","spacer svelte-7mrze3"),C(l,"id","boxplot"),C(p,"class","spacer svelte-7mrze3"),C(p,"id","scatterplot"),C(v,"class","spacer svelte-7mrze3"),C(v,"id","conclusion"),C(N,"class","footer svelte-7mrze3")},m(t,e){b(t,n,e),b(t,r,e),bt(i,t,e),b(t,o,e),b(t,a,e),b(t,s,e),bt(c,t,e),b(t,u,e),b(t,l,e),b(t,f,e),bt(h,t,e),b(t,d,e),b(t,p,e),b(t,g,e),bt(y,t,e),b(t,m,e),b(t,v,e),b(t,x,e),bt($,t,e),b(t,k,e),b(t,N,e),A=!0},p:t,i(t){A||(lt(i.$$.fragment,t),lt(c.$$.fragment,t),lt(h.$$.fragment,t),lt(y.$$.fragment,t),lt($.$$.fragment,t),A=!0)},o(t){ft(i.$$.fragment,t),ft(c.$$.fragment,t),ft(h.$$.fragment,t),ft(y.$$.fragment,t),ft($.$$.fragment,t),A=!1},d(t){t&&_(n),t&&_(r),_t(i,t),t&&_(o),t&&_(a),t&&_(s),_t(c,t),t&&_(u),t&&_(l),t&&_(f),_t(h,t),t&&_(d),t&&_(p),t&&_(g),_t(y,t),t&&_(m),t&&_(v),t&&_(x),_t($,t),t&&_(k),t&&_(N)}}}function md(e){let n;return{c(){n=w("p"),n.textContent="...waiting"},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function vd(t){let e,n,r,i,o,a,s;n=new ud({});let c={ctx:t,current:null,token:null,hasCatch:!0,pending:md,then:yd,catch:gd,value:1,error:2,blocks:[,,,]};return pt(t[1],c),{c(){e=w("main"),vt(n.$$.fragment),r=M(),i=w("h1"),o=k(t[0]),a=M(),c.block.c(),C(i,"class","svelte-7mrze3"),C(e,"class","svelte-7mrze3")},m(t,u){b(t,e,u),bt(n,e,null),v(e,r),v(e,i),v(i,o),v(e,a),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=null,s=!0},p(e,[n]){t=e,(!s||1&n)&&E(o,t[0]);{const e=t.slice();e[1]=e[2]=c.resolved,c.block.p(e,n)}},i(t){s||(lt(n.$$.fragment,t),lt(c.block),s=!0)},o(t){ft(n.$$.fragment,t);for(let t=0;t<3;t+=1){ft(c.blocks[t])}s=!1},d(t){t&&_(e),_t(n),c.block.d(),c.token=null,c=null}}}function bd(t,e,n){let{name:r}=e,i=Promise.all([Mo("./data/all_congressmen.json"),Mo("./data/congress_by_year.json"),Mo("./data/report_cards/2020-report-card.json"),Mo("./data/misconduct.json"),$o("./data/HSall_members.csv")]).then((t=>{const e=t[0],n=t[4].reduce((function(t,e){return t[e.bioguide_id]=e,t}),{}),r=fe(Object.values(t[3]),(t=>t.person));for(const i in e){if(i in t[2]){e[i].report_card=t[2][i];for(const[n,r]of Object.entries(t[2][i]))e[i][n]=r}const o=e[i].govtrack;if(o in t[3]&&(e[i].misconduct=r.get(o)),i in n)for(const[t,r]of Object.entries(n[i]))e[i][t]=r}const i=t[1];for(let t=1790;t<2021;t++)i[t]=i[t].map((t=>({...t,...n[t.id]})));return i[2021]=i[2021].map((e=>({...e,...t[2][e.id]}))),{congressmen:e,congresses:i}}));return t.$$set=t=>{"name"in t&&n(0,r=t.name)},[r,i]}return new class extends $t{constructor(t){super(),wt(this,t,bd,vd,a,{name:0})}}({target:document.body,props:{name:"The Rise of the Career Politician"}})}();
//# sourceMappingURL=bundle.js.map
